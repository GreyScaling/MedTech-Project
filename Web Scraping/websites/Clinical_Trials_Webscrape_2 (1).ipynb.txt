{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "from selenium import webdriver\n",
    "from selenium.webdriver.common.by import By\n",
    "from selenium.webdriver.common.keys import Keys # give us access to things like the Enter key\n",
    "from selenium.webdriver.support.wait import WebDriverWait\n",
    "from selenium.webdriver.support import expected_conditions as EC\n",
    "from selenium.webdriver.support.select import Select\n",
    "import time\n",
    "import pandas as pd"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-51-bdc5ea78f0da>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT05455879?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=2&rank=3001\")\n",
    "\n",
    "data = {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>July 8, 2022</td>\n",
       "      <td>No study has shown that two doses of corticost...</td>\n",
       "      <td>Respiratory distress syndrome (RDS), formerly ...</td>\n",
       "      <td>Hyaline Membrane Disease (HMD)</td>\n",
       "      <td>Other: Impact of antenatal corticosteroid ther...</td>\n",
       "      <td>Inclusion Criteria:\\nPreterm infants ≤ 37 SA\\n...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>up to 37 Weeks   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>July 1, 2022</td>\n",
       "      <td>Surgical site complications generate a series ...</td>\n",
       "      <td>All non-consecutive participants operated on i...</td>\n",
       "      <td>Surgical Site Infection\\nComplication,Postoper...</td>\n",
       "      <td>Device: negative preassure wound therapy\\nwoun...</td>\n",
       "      <td>Inclusion Criteria:\\npatients with risk factor...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>14 Years and older   (Child, Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>July 8, 2022</td>\n",
       "      <td>The aim of the study is to investigate the ant...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Allergy to Cats\\nAllergic Rhinoconjunctivitis</td>\n",
       "      <td>Dietary Supplement: holoBLG\\nholo-BLG (beta-la...</td>\n",
       "      <td>Inclusion Criteria:\\nAt least 1 year of clinic...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>June 9, 2022</td>\n",
       "      <td>Nurses Taking On Readiness Measures (N-TORM) i...</td>\n",
       "      <td>As more chronically ill people are living in t...</td>\n",
       "      <td>Disaster\\nVulnerable Populations</td>\n",
       "      <td>Behavioral: Nurses Taking On Readiness Measure...</td>\n",
       "      <td>Inclusion Criteria:\\n18 years or older\\nEnglis...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>July 7, 2022</td>\n",
       "      <td>The aim of the present study was to examine an...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Glaucoma Open-Angle Primary</td>\n",
       "      <td>Diagnostic Test: OCTA\\nChoriocapillary vessel ...</td>\n",
       "      <td>Inclusion Criteria:• age older than 40 years\\n...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>40 Years to 75 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>February 1, 2022</td>\n",
       "      <td>The Purpose of this study is to culturally ada...</td>\n",
       "      <td>The English version of the Core outcome measur...</td>\n",
       "      <td>Chronic Neck Pain</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion Criteria:\\nIndividuals, including bo...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>February 1, 2022</td>\n",
       "      <td>Since 01/2018, AVOS (ambulant vor stationär = ...</td>\n",
       "      <td>Inguinal hernia repair procedures are among th...</td>\n",
       "      <td>Outcome of Outpatient/Ambulatory and Inpatient...</td>\n",
       "      <td>Procedure: inguinal hernia repair\\ninguinal he...</td>\n",
       "      <td>Inclusion Criteria:\\nPrimary unilateral inguin...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>Child, Adult, Older Adult</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>February 1, 2022</td>\n",
       "      <td>The objective is to show that the use of thera...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Pain Management\\nAnalgesia</td>\n",
       "      <td>Other: Informed consent\\nthe investigator will...</td>\n",
       "      <td>Inclusion Criteria:\\nAge ≥ 18 years;\\nPatient ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>February 1, 2022</td>\n",
       "      <td>This is a prospective, interventional, single-...</td>\n",
       "      <td>The objective of this study is to understand t...</td>\n",
       "      <td>Immunity Disorders\\nAging\\nInflammation</td>\n",
       "      <td>Dietary Supplement: HTB Rejuvenate\\n90 days of...</td>\n",
       "      <td>Inclusion Criteria:\\nMen and women of any ethn...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 85 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>January 31, 2022</td>\n",
       "      <td>Nano-hydroxyapatite is an interesting candidat...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Dental Caries\\nHydroxyapatite</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion criteria:\\nInternet acces\\nIntereste...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0            July 8, 2022  No study has shown that two doses of corticost...   \n",
       "1            July 1, 2022  Surgical site complications generate a series ...   \n",
       "2            July 8, 2022  The aim of the study is to investigate the ant...   \n",
       "3            June 9, 2022  Nurses Taking On Readiness Measures (N-TORM) i...   \n",
       "4            July 7, 2022  The aim of the present study was to examine an...   \n",
       "...                   ...                                                ...   \n",
       "2995     February 1, 2022  The Purpose of this study is to culturally ada...   \n",
       "2996     February 1, 2022  Since 01/2018, AVOS (ambulant vor stationär = ...   \n",
       "2997     February 1, 2022  The objective is to show that the use of thera...   \n",
       "2998     February 1, 2022  This is a prospective, interventional, single-...   \n",
       "2999     January 31, 2022  Nano-hydroxyapatite is an interesting candidat...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     Respiratory distress syndrome (RDS), formerly ...   \n",
       "1     All non-consecutive participants operated on i...   \n",
       "2                                          Not Provided   \n",
       "3     As more chronically ill people are living in t...   \n",
       "4                                          Not Provided   \n",
       "...                                                 ...   \n",
       "2995  The English version of the Core outcome measur...   \n",
       "2996  Inguinal hernia repair procedures are among th...   \n",
       "2997                                       Not Provided   \n",
       "2998  The objective of this study is to understand t...   \n",
       "2999                                       Not Provided   \n",
       "\n",
       "                                              Condition  \\\n",
       "0                        Hyaline Membrane Disease (HMD)   \n",
       "1     Surgical Site Infection\\nComplication,Postoper...   \n",
       "2         Allergy to Cats\\nAllergic Rhinoconjunctivitis   \n",
       "3                      Disaster\\nVulnerable Populations   \n",
       "4                           Glaucoma Open-Angle Primary   \n",
       "...                                                 ...   \n",
       "2995                                  Chronic Neck Pain   \n",
       "2996  Outcome of Outpatient/Ambulatory and Inpatient...   \n",
       "2997                         Pain Management\\nAnalgesia   \n",
       "2998            Immunity Disorders\\nAging\\nInflammation   \n",
       "2999                      Dental Caries\\nHydroxyapatite   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Other: Impact of antenatal corticosteroid ther...   \n",
       "1     Device: negative preassure wound therapy\\nwoun...   \n",
       "2     Dietary Supplement: holoBLG\\nholo-BLG (beta-la...   \n",
       "3     Behavioral: Nurses Taking On Readiness Measure...   \n",
       "4     Diagnostic Test: OCTA\\nChoriocapillary vessel ...   \n",
       "...                                                 ...   \n",
       "2995                                       Not Provided   \n",
       "2996  Procedure: inguinal hernia repair\\ninguinal he...   \n",
       "2997  Other: Informed consent\\nthe investigator will...   \n",
       "2998  Dietary Supplement: HTB Rejuvenate\\n90 days of...   \n",
       "2999                                       Not Provided   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\nPreterm infants ≤ 37 SA\\n...   \n",
       "1     Inclusion Criteria:\\npatients with risk factor...   \n",
       "2     Inclusion Criteria:\\nAt least 1 year of clinic...   \n",
       "3     Inclusion Criteria:\\n18 years or older\\nEnglis...   \n",
       "4     Inclusion Criteria:• age older than 40 years\\n...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nIndividuals, including bo...   \n",
       "2996  Inclusion Criteria:\\nPrimary unilateral inguin...   \n",
       "2997  Inclusion Criteria:\\nAge ≥ 18 years;\\nPatient ...   \n",
       "2998  Inclusion Criteria:\\nMen and women of any ethn...   \n",
       "2999  Inclusion criteria:\\nInternet acces\\nIntereste...   \n",
       "\n",
       "                             Gender  \\\n",
       "0     Sexes Eligible for Study: All   \n",
       "1     Sexes Eligible for Study: All   \n",
       "2     Sexes Eligible for Study: All   \n",
       "3     Sexes Eligible for Study: All   \n",
       "4     Sexes Eligible for Study: All   \n",
       "...                             ...   \n",
       "2995  Sexes Eligible for Study: All   \n",
       "2996  Sexes Eligible for Study: All   \n",
       "2997  Sexes Eligible for Study: All   \n",
       "2998  Sexes Eligible for Study: All   \n",
       "2999  Sexes Eligible for Study: All   \n",
       "\n",
       "                                                  Ages  \n",
       "0                             up to 37 Weeks   (Child)  \n",
       "1     14 Years and older   (Child, Adult, Older Adult)  \n",
       "2          18 Years to 65 Years   (Adult, Older Adult)  \n",
       "3            18 Years and older   (Adult, Older Adult)  \n",
       "4          40 Years to 75 Years   (Adult, Older Adult)  \n",
       "...                                                ...  \n",
       "2995         18 Years and older   (Adult, Older Adult)  \n",
       "2996                         Child, Adult, Older Adult  \n",
       "2997         18 Years and older   (Adult, Older Adult)  \n",
       "2998       18 Years to 85 Years   (Adult, Older Adult)  \n",
       "2999         18 Years and older   (Adult, Older Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 52,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('2nd_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 54,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-54-6379bd76a330>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT05233943?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=61&rank=6001\")\n",
    "data = {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 55,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>February 1, 2022</td>\n",
       "      <td>The 4 main motor symptoms seen in Parkinson's ...</td>\n",
       "      <td>Resting tremor, muscular rigidity, bradykinesi...</td>\n",
       "      <td>Parkinson Disease\\nPostural Kyphosis, Lumbosac...</td>\n",
       "      <td>Device: Spinal Mouse and Digital Inclinometer\\...</td>\n",
       "      <td>Inclusion Criteria For Parkinson's patients:\\n...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>October 21, 2021</td>\n",
       "      <td>The purpose of the study is to understand how ...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Orthostatic Hypotension</td>\n",
       "      <td>Behavioral: Water exercise\\nParticipants will ...</td>\n",
       "      <td>Inclusion Criteria:\\nSelf-report of dizziness ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>65 Years and older   (Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>January 13, 2022</td>\n",
       "      <td>The aim of the study is to compare the home ex...</td>\n",
       "      <td>Conventional rehabilitation (CR) practices wil...</td>\n",
       "      <td>Meniscus; Degeneration</td>\n",
       "      <td>Other: Telerehabilitation\\nApplication based v...</td>\n",
       "      <td>Inclusion Criteria:\\nMale and female patients ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>February 3, 2022</td>\n",
       "      <td>The purpose of this study is to to evaluate th...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>COVID-19\\nSARS-CoV-2</td>\n",
       "      <td>Biological: COVI-VAC\\nIntranasal, live attenua...</td>\n",
       "      <td>Inclusion Criteria:\\nMen and women aged 18 to ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>January 13, 2022</td>\n",
       "      <td>This study aimed to examine the effectiveness ...</td>\n",
       "      <td>Fifty-nine participants living in retirement c...</td>\n",
       "      <td>Well Aging</td>\n",
       "      <td>Behavioral: Active Body and Mind\\nThe interven...</td>\n",
       "      <td>Inclusion Criteria:\\naged 65 or older,\\nable t...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>65 Years and older   (Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>September 15, 2021</td>\n",
       "      <td>The primary objective of this study is to eval...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Healthy Participants</td>\n",
       "      <td>Drug: AMG 133\\nSolution for injection</td>\n",
       "      <td>Key Inclusion Criteria:\\nHealthy male or femal...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>September 15, 2021</td>\n",
       "      <td>The primary objective of this study is to demo...</td>\n",
       "      <td>Subjects will attend 6 scheduled study visits ...</td>\n",
       "      <td>Dry Eye Disease\\nCataract</td>\n",
       "      <td>Other: Systane Hydration lubricant eye drops\\n...</td>\n",
       "      <td>Key Inclusion Criteria:\\nSeeking routine (age-...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>September 15, 2021</td>\n",
       "      <td>The purpose of this study is to demonstrate ef...</td>\n",
       "      <td>Subjects will be expected to attend a screenin...</td>\n",
       "      <td>Dry Eye Disease</td>\n",
       "      <td>Other: Systane Complete\\nPropylene glycol 0.6%...</td>\n",
       "      <td>Key Inclusion Criteria:\\nAble to understand an...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>September 15, 2021</td>\n",
       "      <td>The aim of this study is to compare the effect...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Pregnancy Related</td>\n",
       "      <td>Procedure: Epidural Anesthesia\\nPatients will ...</td>\n",
       "      <td>Inclusion Criteria:\\nParturient with normal va...</td>\n",
       "      <td>Sexes Eligible for Study: Female</td>\n",
       "      <td>18 Years to 40 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>September 15, 2021</td>\n",
       "      <td>The purpose of the trial is to detect tumor mi...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Extensive Stage Small Cell Lung Cancer</td>\n",
       "      <td>Drug: First line EC/EP+Atezolizumab\\nEtoposide...</td>\n",
       "      <td>Inclusion Criteria:\\n18， Extensive Stage Small...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0        February 1, 2022  The 4 main motor symptoms seen in Parkinson's ...   \n",
       "1        October 21, 2021  The purpose of the study is to understand how ...   \n",
       "2        January 13, 2022  The aim of the study is to compare the home ex...   \n",
       "3        February 3, 2022  The purpose of this study is to to evaluate th...   \n",
       "4        January 13, 2022  This study aimed to examine the effectiveness ...   \n",
       "...                   ...                                                ...   \n",
       "2995   September 15, 2021  The primary objective of this study is to eval...   \n",
       "2996   September 15, 2021  The primary objective of this study is to demo...   \n",
       "2997   September 15, 2021  The purpose of this study is to demonstrate ef...   \n",
       "2998   September 15, 2021  The aim of this study is to compare the effect...   \n",
       "2999   September 15, 2021  The purpose of the trial is to detect tumor mi...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     Resting tremor, muscular rigidity, bradykinesi...   \n",
       "1                                          Not Provided   \n",
       "2     Conventional rehabilitation (CR) practices wil...   \n",
       "3                                          Not Provided   \n",
       "4     Fifty-nine participants living in retirement c...   \n",
       "...                                                 ...   \n",
       "2995                                       Not Provided   \n",
       "2996  Subjects will attend 6 scheduled study visits ...   \n",
       "2997  Subjects will be expected to attend a screenin...   \n",
       "2998                                       Not Provided   \n",
       "2999                                       Not Provided   \n",
       "\n",
       "                                              Condition  \\\n",
       "0     Parkinson Disease\\nPostural Kyphosis, Lumbosac...   \n",
       "1                               Orthostatic Hypotension   \n",
       "2                                Meniscus; Degeneration   \n",
       "3                                  COVID-19\\nSARS-CoV-2   \n",
       "4                                            Well Aging   \n",
       "...                                                 ...   \n",
       "2995                               Healthy Participants   \n",
       "2996                          Dry Eye Disease\\nCataract   \n",
       "2997                                    Dry Eye Disease   \n",
       "2998                                  Pregnancy Related   \n",
       "2999             Extensive Stage Small Cell Lung Cancer   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Device: Spinal Mouse and Digital Inclinometer\\...   \n",
       "1     Behavioral: Water exercise\\nParticipants will ...   \n",
       "2     Other: Telerehabilitation\\nApplication based v...   \n",
       "3     Biological: COVI-VAC\\nIntranasal, live attenua...   \n",
       "4     Behavioral: Active Body and Mind\\nThe interven...   \n",
       "...                                                 ...   \n",
       "2995              Drug: AMG 133\\nSolution for injection   \n",
       "2996  Other: Systane Hydration lubricant eye drops\\n...   \n",
       "2997  Other: Systane Complete\\nPropylene glycol 0.6%...   \n",
       "2998  Procedure: Epidural Anesthesia\\nPatients will ...   \n",
       "2999  Drug: First line EC/EP+Atezolizumab\\nEtoposide...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria For Parkinson's patients:\\n...   \n",
       "1     Inclusion Criteria:\\nSelf-report of dizziness ...   \n",
       "2     Inclusion Criteria:\\nMale and female patients ...   \n",
       "3     Inclusion Criteria:\\nMen and women aged 18 to ...   \n",
       "4     Inclusion Criteria:\\naged 65 or older,\\nable t...   \n",
       "...                                                 ...   \n",
       "2995  Key Inclusion Criteria:\\nHealthy male or femal...   \n",
       "2996  Key Inclusion Criteria:\\nSeeking routine (age-...   \n",
       "2997  Key Inclusion Criteria:\\nAble to understand an...   \n",
       "2998  Inclusion Criteria:\\nParturient with normal va...   \n",
       "2999  Inclusion Criteria:\\n18， Extensive Stage Small...   \n",
       "\n",
       "                                Gender  \\\n",
       "0        Sexes Eligible for Study: All   \n",
       "1        Sexes Eligible for Study: All   \n",
       "2        Sexes Eligible for Study: All   \n",
       "3        Sexes Eligible for Study: All   \n",
       "4        Sexes Eligible for Study: All   \n",
       "...                                ...   \n",
       "2995     Sexes Eligible for Study: All   \n",
       "2996     Sexes Eligible for Study: All   \n",
       "2997     Sexes Eligible for Study: All   \n",
       "2998  Sexes Eligible for Study: Female   \n",
       "2999     Sexes Eligible for Study: All   \n",
       "\n",
       "                                             Ages  \n",
       "0       18 Years and older   (Adult, Older Adult)  \n",
       "1              65 Years and older   (Older Adult)  \n",
       "2     18 Years to 65 Years   (Adult, Older Adult)  \n",
       "3     18 Years to 65 Years   (Adult, Older Adult)  \n",
       "4              65 Years and older   (Older Adult)  \n",
       "...                                           ...  \n",
       "2995  18 Years to 65 Years   (Adult, Older Adult)  \n",
       "2996    18 Years and older   (Adult, Older Adult)  \n",
       "2997    18 Years and older   (Adult, Older Adult)  \n",
       "2998               18 Years to 40 Years   (Adult)  \n",
       "2999    18 Years and older   (Adult, Older Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 55,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('3rd_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 57,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-57-5e02c4817f2b>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT05055947?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=91&rank=9001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>September 15, 2021</td>\n",
       "      <td>The purpose of the trial is to find some bioma...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Extensive Stage Small Cell Lung Cancer</td>\n",
       "      <td>Drug: First line EC/EP+Atezolizumab\\nEtoposide...</td>\n",
       "      <td>Inclusion Criteria:\\n18， Extensive Stage Small...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>September 15, 2021</td>\n",
       "      <td>The purpose of the trial is to find some bioma...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Extensive Stage Small Cell Lung Cancer</td>\n",
       "      <td>Drug: First line EC/EP+Atezolizumab\\nEtoposide...</td>\n",
       "      <td>Inclusion Criteria:\\n18， Extensive Stage Small...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>September 16, 2021</td>\n",
       "      <td>This trial is a randomized, actively-controlle...</td>\n",
       "      <td>Healthy volunteers will be asked to sign infor...</td>\n",
       "      <td>Bioequivalence</td>\n",
       "      <td>Drug: Pharmaceutical-lipid aspirin (PL-ASA)\\nS...</td>\n",
       "      <td>Inclusion Criteria:\\nMale or female subjects a...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>June 23, 2021</td>\n",
       "      <td>The aim of the present study is to collect dat...</td>\n",
       "      <td>This is a phase IV clinical study whose aim is...</td>\n",
       "      <td>Radiation-Induced Mucositis\\nHead and Neck Cancer</td>\n",
       "      <td>Drug: Benzydamine Hydrochloride 0.15% w/v orom...</td>\n",
       "      <td>Inclusion Criteria:\\nMale and female patients ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>September 8, 2021</td>\n",
       "      <td>To evaluate the safety,tolerability and pharma...</td>\n",
       "      <td>This study is divided into two parts: A and B....</td>\n",
       "      <td>Healthy</td>\n",
       "      <td>Drug: FL058\\n2500mg、3000mg\\nDrug: Placebo\\nemp...</td>\n",
       "      <td>Inclusion Criteria:\\nHealthy adults aged betwe...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 45 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>May 11, 2021</td>\n",
       "      <td>Ambispective, multi-surgeon, single site, cons...</td>\n",
       "      <td>This is a ambispective, multi-surgeon, single ...</td>\n",
       "      <td>Ankle Injuries\\nSyndesmotic Injuries\\nAnkle In...</td>\n",
       "      <td>Device: Grappler® Interference Screw System\\nF...</td>\n",
       "      <td>Inclusion Criteria:\\nThe subject must have und...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Child, Adult, Older Adult</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>May 14, 2021</td>\n",
       "      <td>To explore the effect of \"Lactobacillus planta...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Frail Elderly Syndrome\\nSarcopenia</td>\n",
       "      <td>Dietary Supplement: Lactobacillus plantarum TW...</td>\n",
       "      <td>Inclusion Criteria:\\nThe clinical frailty scal...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>65 Years to 90 Years   (Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>May 15, 2021</td>\n",
       "      <td>The SARS-Cov2 virus was identified in china at...</td>\n",
       "      <td>The oral cavity is particularly susceptible to...</td>\n",
       "      <td>SARS-CoV2 Infection</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion Criteria:\\nA diagnosis of SARS-CoV2 ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 60 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>March 24, 2021</td>\n",
       "      <td>Collecting mono nuclear cells from the patient...</td>\n",
       "      <td>Dilated cardiomyopathy in children has high mo...</td>\n",
       "      <td>Cardiomyopathy</td>\n",
       "      <td>Biological: mono nuclear cells injection\\ntran...</td>\n",
       "      <td>Inclusion Criteria:\\nDilated cardiomyopathy di...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>6 Months to 14 Years   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>March 17, 2021</td>\n",
       "      <td>This feasibility assessment is to provide quan...</td>\n",
       "      <td>In the Cameroon Expanded Program on Immunizati...</td>\n",
       "      <td>Hepatitis B</td>\n",
       "      <td>Other: Integration of vaccination services int...</td>\n",
       "      <td>Inclusion Criteria:\\nFacilities will be those ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>Child, Adult, Older Adult</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0      September 15, 2021  The purpose of the trial is to find some bioma...   \n",
       "1      September 15, 2021  The purpose of the trial is to find some bioma...   \n",
       "2      September 16, 2021  This trial is a randomized, actively-controlle...   \n",
       "3           June 23, 2021  The aim of the present study is to collect dat...   \n",
       "4       September 8, 2021  To evaluate the safety,tolerability and pharma...   \n",
       "...                   ...                                                ...   \n",
       "2995         May 11, 2021  Ambispective, multi-surgeon, single site, cons...   \n",
       "2996         May 14, 2021  To explore the effect of \"Lactobacillus planta...   \n",
       "2997         May 15, 2021  The SARS-Cov2 virus was identified in china at...   \n",
       "2998       March 24, 2021  Collecting mono nuclear cells from the patient...   \n",
       "2999       March 17, 2021  This feasibility assessment is to provide quan...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0                                          Not Provided   \n",
       "1                                          Not Provided   \n",
       "2     Healthy volunteers will be asked to sign infor...   \n",
       "3     This is a phase IV clinical study whose aim is...   \n",
       "4     This study is divided into two parts: A and B....   \n",
       "...                                                 ...   \n",
       "2995  This is a ambispective, multi-surgeon, single ...   \n",
       "2996                                       Not Provided   \n",
       "2997  The oral cavity is particularly susceptible to...   \n",
       "2998  Dilated cardiomyopathy in children has high mo...   \n",
       "2999  In the Cameroon Expanded Program on Immunizati...   \n",
       "\n",
       "                                              Condition  \\\n",
       "0                Extensive Stage Small Cell Lung Cancer   \n",
       "1                Extensive Stage Small Cell Lung Cancer   \n",
       "2                                        Bioequivalence   \n",
       "3     Radiation-Induced Mucositis\\nHead and Neck Cancer   \n",
       "4                                               Healthy   \n",
       "...                                                 ...   \n",
       "2995  Ankle Injuries\\nSyndesmotic Injuries\\nAnkle In...   \n",
       "2996                 Frail Elderly Syndrome\\nSarcopenia   \n",
       "2997                                SARS-CoV2 Infection   \n",
       "2998                                     Cardiomyopathy   \n",
       "2999                                        Hepatitis B   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Drug: First line EC/EP+Atezolizumab\\nEtoposide...   \n",
       "1     Drug: First line EC/EP+Atezolizumab\\nEtoposide...   \n",
       "2     Drug: Pharmaceutical-lipid aspirin (PL-ASA)\\nS...   \n",
       "3     Drug: Benzydamine Hydrochloride 0.15% w/v orom...   \n",
       "4     Drug: FL058\\n2500mg、3000mg\\nDrug: Placebo\\nemp...   \n",
       "...                                                 ...   \n",
       "2995  Device: Grappler® Interference Screw System\\nF...   \n",
       "2996  Dietary Supplement: Lactobacillus plantarum TW...   \n",
       "2997                                       Not Provided   \n",
       "2998  Biological: mono nuclear cells injection\\ntran...   \n",
       "2999  Other: Integration of vaccination services int...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\n18， Extensive Stage Small...   \n",
       "1     Inclusion Criteria:\\n18， Extensive Stage Small...   \n",
       "2     Inclusion Criteria:\\nMale or female subjects a...   \n",
       "3     Inclusion Criteria:\\nMale and female patients ...   \n",
       "4     Inclusion Criteria:\\nHealthy adults aged betwe...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nThe subject must have und...   \n",
       "2996  Inclusion Criteria:\\nThe clinical frailty scal...   \n",
       "2997  Inclusion Criteria:\\nA diagnosis of SARS-CoV2 ...   \n",
       "2998  Inclusion Criteria:\\nDilated cardiomyopathy di...   \n",
       "2999  Inclusion Criteria:\\nFacilities will be those ...   \n",
       "\n",
       "                             Gender                                       Ages  \n",
       "0     Sexes Eligible for Study: All  18 Years and older   (Adult, Older Adult)  \n",
       "1     Sexes Eligible for Study: All  18 Years and older   (Adult, Older Adult)  \n",
       "2     Sexes Eligible for Study: All  18 Years and older   (Adult, Older Adult)  \n",
       "3     Sexes Eligible for Study: All  18 Years and older   (Adult, Older Adult)  \n",
       "4     Sexes Eligible for Study: All             18 Years to 45 Years   (Adult)  \n",
       "...                             ...                                        ...  \n",
       "2995                   Not Provided                  Child, Adult, Older Adult  \n",
       "2996  Sexes Eligible for Study: All       65 Years to 90 Years   (Older Adult)  \n",
       "2997  Sexes Eligible for Study: All             18 Years to 60 Years   (Adult)  \n",
       "2998  Sexes Eligible for Study: All             6 Months to 14 Years   (Child)  \n",
       "2999  Sexes Eligible for Study: All                  Child, Adult, Older Adult  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 58,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 59,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('4th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 61,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-61-e43a325e1b27>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT04893590?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=121&rank=12001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 62,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>May 14, 2021</td>\n",
       "      <td>Persons with disabilities (PwD) commonly exper...</td>\n",
       "      <td>Persons with disabilities (PwD) commonly exper...</td>\n",
       "      <td>Spinal Cord Injuries\\nStroke\\nMultiple Sclerosis</td>\n",
       "      <td>Behavioral: Fatigue self-management SMS interv...</td>\n",
       "      <td>Inclusion Criteria:\\n18 years of age or older\\...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>May 14, 2021</td>\n",
       "      <td>Chios mastic is a natural product with strong ...</td>\n",
       "      <td>Chios mastic is the resin of the mastic tree (...</td>\n",
       "      <td>Irritable Bowel Syndrome</td>\n",
       "      <td>Behavioral: Chios mastic water\\nParticipants r...</td>\n",
       "      <td>Inclusion Criteria:\\nAge 18-65 years old\\nBody...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>May 14, 2021</td>\n",
       "      <td>This study investigates the feasibility of a c...</td>\n",
       "      <td>A group of 60 adult smokers will use and evalu...</td>\n",
       "      <td>Smoking Cessation</td>\n",
       "      <td>Behavioral: CoQuit App\\nThe CoQuit App is a co...</td>\n",
       "      <td>Inclusion Criteria:\\nAge 18 or older\\nSelf-rep...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>April 26, 2021</td>\n",
       "      <td>The goal of this study is to describe the anti...</td>\n",
       "      <td>A retrospective study, analysing antibiotic us...</td>\n",
       "      <td>Neonatal Infection</td>\n",
       "      <td>Other: Antibiotic treatment\\nAntibiotic treatm...</td>\n",
       "      <td>Inclusion Criteria:\\nAdmission to neonatal int...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>0 Days to 30 Days   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>May 14, 2021</td>\n",
       "      <td>This is a Phase 1, single-site, open label, ex...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>C. Diff. Infections</td>\n",
       "      <td>Biological: LMN-201\\nComponents of LMN-201</td>\n",
       "      <td>Inclusion Criteria:\\nWilling to participate in...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>19 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>January 30, 2021</td>\n",
       "      <td>The presence of chronic blockage of coronary a...</td>\n",
       "      <td>Chronic total occlusion (CTO) is defined as th...</td>\n",
       "      <td>Progression of Atherosclerotic Plaque\\nCoronar...</td>\n",
       "      <td>Diagnostic Test: Comparison of oxidative and a...</td>\n",
       "      <td>Inclusion Criteria:\\nThose who underwent coron...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>February 5, 2021</td>\n",
       "      <td>The purpose of this study is to compare bedsid...</td>\n",
       "      <td>This study will evaluate the efficacy of bedsi...</td>\n",
       "      <td>Education, Medical</td>\n",
       "      <td>Other: Assigned to a rounding style\\nTeam roun...</td>\n",
       "      <td>Inclusion Criteria:\\nnew admission to neurolog...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 100 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>February 10, 2021</td>\n",
       "      <td>This Phase 3 clinical trial is designed to eva...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Social Anxiety Disorder</td>\n",
       "      <td>Drug: PH94B Nasal Spray\\nNasal spray delivered...</td>\n",
       "      <td>Inclusion Criteria:\\nWritten informed consent ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>February 5, 2021</td>\n",
       "      <td>Phase I open label, non-randomised dose escala...</td>\n",
       "      <td>The purpose of this study is to test a new vac...</td>\n",
       "      <td>Rift Valley Fever</td>\n",
       "      <td>Biological: ChAdOx1 RVF\\nSingle dose of ChAdOx...</td>\n",
       "      <td>Inclusion Criteria:\\nThe volunteer must satisf...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 50 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>January 14, 2021</td>\n",
       "      <td>Background:\\nDentine hypersensitivity (DH) cau...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Dentine Hypersensitivity</td>\n",
       "      <td>Drug: Dentin-Bonding Agents\\n3M ESPE Scotchbon...</td>\n",
       "      <td>Inclusion Criteria:\\nOutpatients reporting to ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>20 Years to 45 Years   (Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0            May 14, 2021  Persons with disabilities (PwD) commonly exper...   \n",
       "1            May 14, 2021  Chios mastic is a natural product with strong ...   \n",
       "2            May 14, 2021  This study investigates the feasibility of a c...   \n",
       "3          April 26, 2021  The goal of this study is to describe the anti...   \n",
       "4            May 14, 2021  This is a Phase 1, single-site, open label, ex...   \n",
       "...                   ...                                                ...   \n",
       "2995     January 30, 2021  The presence of chronic blockage of coronary a...   \n",
       "2996     February 5, 2021  The purpose of this study is to compare bedsid...   \n",
       "2997    February 10, 2021  This Phase 3 clinical trial is designed to eva...   \n",
       "2998     February 5, 2021  Phase I open label, non-randomised dose escala...   \n",
       "2999     January 14, 2021  Background:\\nDentine hypersensitivity (DH) cau...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     Persons with disabilities (PwD) commonly exper...   \n",
       "1     Chios mastic is the resin of the mastic tree (...   \n",
       "2     A group of 60 adult smokers will use and evalu...   \n",
       "3     A retrospective study, analysing antibiotic us...   \n",
       "4                                          Not Provided   \n",
       "...                                                 ...   \n",
       "2995  Chronic total occlusion (CTO) is defined as th...   \n",
       "2996  This study will evaluate the efficacy of bedsi...   \n",
       "2997                                       Not Provided   \n",
       "2998  The purpose of this study is to test a new vac...   \n",
       "2999                                       Not Provided   \n",
       "\n",
       "                                              Condition  \\\n",
       "0      Spinal Cord Injuries\\nStroke\\nMultiple Sclerosis   \n",
       "1                              Irritable Bowel Syndrome   \n",
       "2                                     Smoking Cessation   \n",
       "3                                    Neonatal Infection   \n",
       "4                                   C. Diff. Infections   \n",
       "...                                                 ...   \n",
       "2995  Progression of Atherosclerotic Plaque\\nCoronar...   \n",
       "2996                                 Education, Medical   \n",
       "2997                            Social Anxiety Disorder   \n",
       "2998                                  Rift Valley Fever   \n",
       "2999                           Dentine Hypersensitivity   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Behavioral: Fatigue self-management SMS interv...   \n",
       "1     Behavioral: Chios mastic water\\nParticipants r...   \n",
       "2     Behavioral: CoQuit App\\nThe CoQuit App is a co...   \n",
       "3     Other: Antibiotic treatment\\nAntibiotic treatm...   \n",
       "4            Biological: LMN-201\\nComponents of LMN-201   \n",
       "...                                                 ...   \n",
       "2995  Diagnostic Test: Comparison of oxidative and a...   \n",
       "2996  Other: Assigned to a rounding style\\nTeam roun...   \n",
       "2997  Drug: PH94B Nasal Spray\\nNasal spray delivered...   \n",
       "2998  Biological: ChAdOx1 RVF\\nSingle dose of ChAdOx...   \n",
       "2999  Drug: Dentin-Bonding Agents\\n3M ESPE Scotchbon...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\n18 years of age or older\\...   \n",
       "1     Inclusion Criteria:\\nAge 18-65 years old\\nBody...   \n",
       "2     Inclusion Criteria:\\nAge 18 or older\\nSelf-rep...   \n",
       "3     Inclusion Criteria:\\nAdmission to neonatal int...   \n",
       "4     Inclusion Criteria:\\nWilling to participate in...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nThose who underwent coron...   \n",
       "2996  Inclusion Criteria:\\nnew admission to neurolog...   \n",
       "2997  Inclusion Criteria:\\nWritten informed consent ...   \n",
       "2998  Inclusion Criteria:\\nThe volunteer must satisf...   \n",
       "2999  Inclusion Criteria:\\nOutpatients reporting to ...   \n",
       "\n",
       "                             Gender  \\\n",
       "0     Sexes Eligible for Study: All   \n",
       "1     Sexes Eligible for Study: All   \n",
       "2     Sexes Eligible for Study: All   \n",
       "3     Sexes Eligible for Study: All   \n",
       "4     Sexes Eligible for Study: All   \n",
       "...                             ...   \n",
       "2995  Sexes Eligible for Study: All   \n",
       "2996  Sexes Eligible for Study: All   \n",
       "2997  Sexes Eligible for Study: All   \n",
       "2998  Sexes Eligible for Study: All   \n",
       "2999  Sexes Eligible for Study: All   \n",
       "\n",
       "                                              Ages  \n",
       "0        18 Years and older   (Adult, Older Adult)  \n",
       "1      18 Years to 65 Years   (Adult, Older Adult)  \n",
       "2        18 Years and older   (Adult, Older Adult)  \n",
       "3                      0 Days to 30 Days   (Child)  \n",
       "4        19 Years and older   (Adult, Older Adult)  \n",
       "...                                            ...  \n",
       "2995     18 Years and older   (Adult, Older Adult)  \n",
       "2996  18 Years to 100 Years   (Adult, Older Adult)  \n",
       "2997   18 Years to 65 Years   (Adult, Older Adult)  \n",
       "2998                18 Years to 50 Years   (Adult)  \n",
       "2999                20 Years to 45 Years   (Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 62,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 63,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('5th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-64-d6813011a723>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT04754724?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=151&rank=15001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 65,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>February 9, 2021</td>\n",
       "      <td>The goal of this study is to assess the perfor...</td>\n",
       "      <td>Lactose malabsorption is a common condition du...</td>\n",
       "      <td>Lactose Intolerance</td>\n",
       "      <td>Diagnostic Test: GIMate\\nUse of GIMate to dete...</td>\n",
       "      <td>Inclusion Criteria:\\nHealthy male or non-pregn...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 55 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>February 5, 2021</td>\n",
       "      <td>A prospective study was performed on 90 patien...</td>\n",
       "      <td>Background: Osteoarthritis (OA) is a multifact...</td>\n",
       "      <td>Knee Osteoarthritis</td>\n",
       "      <td>Drug: Intra-articular injection of platelet-ri...</td>\n",
       "      <td>Inclusion Criteria:\\n• All patients have unila...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>25 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>February 8, 2021</td>\n",
       "      <td>This is a randomized, controlled, single-blind...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Wrinkle\\nNasolabial Fold\\nAging</td>\n",
       "      <td>Device: Split-face injection of RHA® 4 with a ...</td>\n",
       "      <td>Inclusion Criteria:\\nOutpatient, male or femal...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>22 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>February 10, 2021</td>\n",
       "      <td>To present the first admission chest computed ...</td>\n",
       "      <td>A total of 764 adult patients who were diagnos...</td>\n",
       "      <td>Covid19\\nInfection Viral\\nCT Scan</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion Criteria:\\nWho had single negative R...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>February 5, 2021</td>\n",
       "      <td>Evaluation of the feasibility, acceptability, ...</td>\n",
       "      <td>Patients were examined by two gastroenterologi...</td>\n",
       "      <td>Crohn Disease</td>\n",
       "      <td>Other: real time online video visit\\nParticipa...</td>\n",
       "      <td>Inclusion Criteria:\\nThe study group included ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 80 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>October 20, 2020</td>\n",
       "      <td>Objective: To take the existing VR technology ...</td>\n",
       "      <td>Many researchers have proved the usefulness of...</td>\n",
       "      <td>Phobias\\nAcrophobia\\nAnxiety</td>\n",
       "      <td>Other: Intelligent Virtual Reality Therapy Sys...</td>\n",
       "      <td>Inclusion Criteria:\\nPatients visiting the Psy...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 60 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>October 27, 2020</td>\n",
       "      <td>This phase III trial compares rose geranium in...</td>\n",
       "      <td>PRIMARY OBJECTIVE:\\nI. To determine the abilit...</td>\n",
       "      <td>Hematopoietic and Lymphoid Cell Neoplasm\\nMali...</td>\n",
       "      <td>Drug: Placebo Administration\\nInstill isotonic...</td>\n",
       "      <td>Inclusion Criteria:\\nREGISTRATION-INCLUSION CR...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>October 31, 2020</td>\n",
       "      <td>Aging can be defined as sequential deteriorati...</td>\n",
       "      <td>Disability and reduction of quality of life ar...</td>\n",
       "      <td>Diabetic Polyneuropathy</td>\n",
       "      <td>Other: Antigravity treadmill training 100% wei...</td>\n",
       "      <td>Inclusion Criteria:\\nElderly Saudi men with di...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>60 Years to 80 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>November 5, 2020</td>\n",
       "      <td>The anticaries effect of fluoride is through t...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Dental Caries</td>\n",
       "      <td>Drug: Inactive supplement\\nChewable candy (neg...</td>\n",
       "      <td>Inclusion Criteria:\\nProvision of signed and d...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 99 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>November 2, 2020</td>\n",
       "      <td>The objectives of this study are:\\nTo evaluate...</td>\n",
       "      <td>A randomized, parallel arm, double-masked, pla...</td>\n",
       "      <td>Mydriasis\\nDilation</td>\n",
       "      <td>Drug: Phentolamine Ophthalmic Solution 0.75%\\n...</td>\n",
       "      <td>Inclusion Criteria:\\nMales or females ≥ 12 yea...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>12 Years and older   (Child, Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0        February 9, 2021  The goal of this study is to assess the perfor...   \n",
       "1        February 5, 2021  A prospective study was performed on 90 patien...   \n",
       "2        February 8, 2021  This is a randomized, controlled, single-blind...   \n",
       "3       February 10, 2021  To present the first admission chest computed ...   \n",
       "4        February 5, 2021  Evaluation of the feasibility, acceptability, ...   \n",
       "...                   ...                                                ...   \n",
       "2995     October 20, 2020  Objective: To take the existing VR technology ...   \n",
       "2996     October 27, 2020  This phase III trial compares rose geranium in...   \n",
       "2997     October 31, 2020  Aging can be defined as sequential deteriorati...   \n",
       "2998     November 5, 2020  The anticaries effect of fluoride is through t...   \n",
       "2999     November 2, 2020  The objectives of this study are:\\nTo evaluate...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     Lactose malabsorption is a common condition du...   \n",
       "1     Background: Osteoarthritis (OA) is a multifact...   \n",
       "2                                          Not Provided   \n",
       "3     A total of 764 adult patients who were diagnos...   \n",
       "4     Patients were examined by two gastroenterologi...   \n",
       "...                                                 ...   \n",
       "2995  Many researchers have proved the usefulness of...   \n",
       "2996  PRIMARY OBJECTIVE:\\nI. To determine the abilit...   \n",
       "2997  Disability and reduction of quality of life ar...   \n",
       "2998                                       Not Provided   \n",
       "2999  A randomized, parallel arm, double-masked, pla...   \n",
       "\n",
       "                                              Condition  \\\n",
       "0                                   Lactose Intolerance   \n",
       "1                                   Knee Osteoarthritis   \n",
       "2                       Wrinkle\\nNasolabial Fold\\nAging   \n",
       "3                     Covid19\\nInfection Viral\\nCT Scan   \n",
       "4                                         Crohn Disease   \n",
       "...                                                 ...   \n",
       "2995                       Phobias\\nAcrophobia\\nAnxiety   \n",
       "2996  Hematopoietic and Lymphoid Cell Neoplasm\\nMali...   \n",
       "2997                            Diabetic Polyneuropathy   \n",
       "2998                                      Dental Caries   \n",
       "2999                                Mydriasis\\nDilation   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Diagnostic Test: GIMate\\nUse of GIMate to dete...   \n",
       "1     Drug: Intra-articular injection of platelet-ri...   \n",
       "2     Device: Split-face injection of RHA® 4 with a ...   \n",
       "3                                          Not Provided   \n",
       "4     Other: real time online video visit\\nParticipa...   \n",
       "...                                                 ...   \n",
       "2995  Other: Intelligent Virtual Reality Therapy Sys...   \n",
       "2996  Drug: Placebo Administration\\nInstill isotonic...   \n",
       "2997  Other: Antigravity treadmill training 100% wei...   \n",
       "2998  Drug: Inactive supplement\\nChewable candy (neg...   \n",
       "2999  Drug: Phentolamine Ophthalmic Solution 0.75%\\n...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\nHealthy male or non-pregn...   \n",
       "1     Inclusion Criteria:\\n• All patients have unila...   \n",
       "2     Inclusion Criteria:\\nOutpatient, male or femal...   \n",
       "3     Inclusion Criteria:\\nWho had single negative R...   \n",
       "4     Inclusion Criteria:\\nThe study group included ...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nPatients visiting the Psy...   \n",
       "2996  Inclusion Criteria:\\nREGISTRATION-INCLUSION CR...   \n",
       "2997  Inclusion Criteria:\\nElderly Saudi men with di...   \n",
       "2998  Inclusion Criteria:\\nProvision of signed and d...   \n",
       "2999  Inclusion Criteria:\\nMales or females ≥ 12 yea...   \n",
       "\n",
       "                             Gender  \\\n",
       "0     Sexes Eligible for Study: All   \n",
       "1     Sexes Eligible for Study: All   \n",
       "2     Sexes Eligible for Study: All   \n",
       "3     Sexes Eligible for Study: All   \n",
       "4     Sexes Eligible for Study: All   \n",
       "...                             ...   \n",
       "2995  Sexes Eligible for Study: All   \n",
       "2996  Sexes Eligible for Study: All   \n",
       "2997  Sexes Eligible for Study: All   \n",
       "2998  Sexes Eligible for Study: All   \n",
       "2999  Sexes Eligible for Study: All   \n",
       "\n",
       "                                                  Ages  \n",
       "0                       18 Years to 55 Years   (Adult)  \n",
       "1          25 Years to 65 Years   (Adult, Older Adult)  \n",
       "2            22 Years and older   (Adult, Older Adult)  \n",
       "3            18 Years and older   (Adult, Older Adult)  \n",
       "4          18 Years to 80 Years   (Adult, Older Adult)  \n",
       "...                                                ...  \n",
       "2995                    18 Years to 60 Years   (Adult)  \n",
       "2996         18 Years and older   (Adult, Older Adult)  \n",
       "2997       60 Years to 80 Years   (Adult, Older Adult)  \n",
       "2998       18 Years to 99 Years   (Adult, Older Adult)  \n",
       "2999  12 Years and older   (Child, Adult, Older Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 65,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 66,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('6th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 67,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-67-57cca03c7750>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT04620161?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=2&rank=18001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 68,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>October 21, 2020</td>\n",
       "      <td>The purpose of this study is to evaluate the e...</td>\n",
       "      <td>This multicenter, randomized, placebo-controll...</td>\n",
       "      <td>Functional Constipation</td>\n",
       "      <td>Drug: Pradigastat Tablets 20mg\\n20mg, once dai...</td>\n",
       "      <td>Inclusion Criteria:\\nWritten informed consent ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 70 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>October 26, 2020</td>\n",
       "      <td>A Phase 3 Study Comparing the Efficacy and Saf...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Primary Open Angle Glaucoma\\nOcular Hypertension</td>\n",
       "      <td>Drug: Netarsudil ophthalmic solution 0.02%\\nTo...</td>\n",
       "      <td>Inclusion Criteria:\\n20 years of age or older\\...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>20 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>November 3, 2020</td>\n",
       "      <td>Aim: The aim of the study was to examine the e...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Sleep\\nAnger\\nPsychiatric Disorder</td>\n",
       "      <td>Other: Progressive Muscle Relaxation Training ...</td>\n",
       "      <td>Inclusion Criteria:\\nHaving a chronic psychiat...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 60 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>October 9, 2020</td>\n",
       "      <td>Cystic fibrosis (CF) affects men and women equ...</td>\n",
       "      <td>To better understand the connection between cy...</td>\n",
       "      <td>Cystic Fibrosis</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion Criteria:\\nFemales with CF, ages &gt; o...</td>\n",
       "      <td>Sexes Eligible for Study: Female\\nGender Based...</td>\n",
       "      <td>18 Years to 45 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>October 26, 2020</td>\n",
       "      <td>Worldwide obesity is a public health concern t...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Obesity, Childhood</td>\n",
       "      <td>Dietary Supplement: butyrate\\nsodium butyrate ...</td>\n",
       "      <td>Inclusion Criteria:\\nChildren/adolescents with...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>5 Years to 17 Years   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>July 24, 2020</td>\n",
       "      <td>This study will assess the effect of a social ...</td>\n",
       "      <td>Diabetes mellitus is responsible for 1.6 milli...</td>\n",
       "      <td>Diabetes Mellitus, Type 2</td>\n",
       "      <td>Behavioral: Social support for diabetes self-m...</td>\n",
       "      <td>Inclusion Criteria:\\nAdults over 18 years with...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 99 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>July 27, 2020</td>\n",
       "      <td>Coronavirus is an acute viral disease with pre...</td>\n",
       "      <td>COVID-19 is an infectious disease caused by th...</td>\n",
       "      <td>Covid19\\nSARS-CoV-2 PNEUMONIA\\nCOVID-19</td>\n",
       "      <td>Drug: EXO 1 inhalation\\nTwice a day during 10 ...</td>\n",
       "      <td>Inclusion Criteria:\\nAbility to understand the...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>July 20, 2020</td>\n",
       "      <td>Patients affected by new coronavirus infectiou...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Covid19\\nFollow up\\nRehabilitation</td>\n",
       "      <td>Other: quality of live assessment\\nquality of ...</td>\n",
       "      <td>Inclusion criteria:\\nSubject male or female ≥ ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>July 20, 2020</td>\n",
       "      <td>Active males and females consumed a probiotic ...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Focus of Study is Amino Acid Appearace in Blood</td>\n",
       "      <td>Dietary Supplement: Bacillus subtilis DE111\\n1...</td>\n",
       "      <td>Inclusion Criteria:\\n18-34 years old Participa...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 34 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>May 18, 2020</td>\n",
       "      <td>Stroke has severe debilitating neurological co...</td>\n",
       "      <td>Stroke is thought to be a serious health probl...</td>\n",
       "      <td>Stroke\\nGait Disorder, Sensorimotor</td>\n",
       "      <td>Other: Body weight support treadmill training ...</td>\n",
       "      <td>Inclusion criteria\\nAge between 18 and 69 year...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 69 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0        October 21, 2020  The purpose of this study is to evaluate the e...   \n",
       "1        October 26, 2020  A Phase 3 Study Comparing the Efficacy and Saf...   \n",
       "2        November 3, 2020  Aim: The aim of the study was to examine the e...   \n",
       "3         October 9, 2020  Cystic fibrosis (CF) affects men and women equ...   \n",
       "4        October 26, 2020  Worldwide obesity is a public health concern t...   \n",
       "...                   ...                                                ...   \n",
       "2995        July 24, 2020  This study will assess the effect of a social ...   \n",
       "2996        July 27, 2020  Coronavirus is an acute viral disease with pre...   \n",
       "2997        July 20, 2020  Patients affected by new coronavirus infectiou...   \n",
       "2998        July 20, 2020  Active males and females consumed a probiotic ...   \n",
       "2999         May 18, 2020  Stroke has severe debilitating neurological co...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     This multicenter, randomized, placebo-controll...   \n",
       "1                                          Not Provided   \n",
       "2                                          Not Provided   \n",
       "3     To better understand the connection between cy...   \n",
       "4                                          Not Provided   \n",
       "...                                                 ...   \n",
       "2995  Diabetes mellitus is responsible for 1.6 milli...   \n",
       "2996  COVID-19 is an infectious disease caused by th...   \n",
       "2997                                       Not Provided   \n",
       "2998                                       Not Provided   \n",
       "2999  Stroke is thought to be a serious health probl...   \n",
       "\n",
       "                                             Condition  \\\n",
       "0                              Functional Constipation   \n",
       "1     Primary Open Angle Glaucoma\\nOcular Hypertension   \n",
       "2                   Sleep\\nAnger\\nPsychiatric Disorder   \n",
       "3                                      Cystic Fibrosis   \n",
       "4                                   Obesity, Childhood   \n",
       "...                                                ...   \n",
       "2995                         Diabetes Mellitus, Type 2   \n",
       "2996           Covid19\\nSARS-CoV-2 PNEUMONIA\\nCOVID-19   \n",
       "2997                Covid19\\nFollow up\\nRehabilitation   \n",
       "2998   Focus of Study is Amino Acid Appearace in Blood   \n",
       "2999               Stroke\\nGait Disorder, Sensorimotor   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Drug: Pradigastat Tablets 20mg\\n20mg, once dai...   \n",
       "1     Drug: Netarsudil ophthalmic solution 0.02%\\nTo...   \n",
       "2     Other: Progressive Muscle Relaxation Training ...   \n",
       "3                                          Not Provided   \n",
       "4     Dietary Supplement: butyrate\\nsodium butyrate ...   \n",
       "...                                                 ...   \n",
       "2995  Behavioral: Social support for diabetes self-m...   \n",
       "2996  Drug: EXO 1 inhalation\\nTwice a day during 10 ...   \n",
       "2997  Other: quality of live assessment\\nquality of ...   \n",
       "2998  Dietary Supplement: Bacillus subtilis DE111\\n1...   \n",
       "2999  Other: Body weight support treadmill training ...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\nWritten informed consent ...   \n",
       "1     Inclusion Criteria:\\n20 years of age or older\\...   \n",
       "2     Inclusion Criteria:\\nHaving a chronic psychiat...   \n",
       "3     Inclusion Criteria:\\nFemales with CF, ages > o...   \n",
       "4     Inclusion Criteria:\\nChildren/adolescents with...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nAdults over 18 years with...   \n",
       "2996  Inclusion Criteria:\\nAbility to understand the...   \n",
       "2997  Inclusion criteria:\\nSubject male or female ≥ ...   \n",
       "2998  Inclusion Criteria:\\n18-34 years old Participa...   \n",
       "2999  Inclusion criteria\\nAge between 18 and 69 year...   \n",
       "\n",
       "                                                 Gender  \\\n",
       "0                         Sexes Eligible for Study: All   \n",
       "1                         Sexes Eligible for Study: All   \n",
       "2                         Sexes Eligible for Study: All   \n",
       "3     Sexes Eligible for Study: Female\\nGender Based...   \n",
       "4                         Sexes Eligible for Study: All   \n",
       "...                                                 ...   \n",
       "2995                      Sexes Eligible for Study: All   \n",
       "2996                      Sexes Eligible for Study: All   \n",
       "2997                      Sexes Eligible for Study: All   \n",
       "2998                      Sexes Eligible for Study: All   \n",
       "2999                      Sexes Eligible for Study: All   \n",
       "\n",
       "                                             Ages  \n",
       "0     18 Years to 70 Years   (Adult, Older Adult)  \n",
       "1       20 Years and older   (Adult, Older Adult)  \n",
       "2                  18 Years to 60 Years   (Adult)  \n",
       "3                  18 Years to 45 Years   (Adult)  \n",
       "4                   5 Years to 17 Years   (Child)  \n",
       "...                                           ...  \n",
       "2995  18 Years to 99 Years   (Adult, Older Adult)  \n",
       "2996  18 Years to 65 Years   (Adult, Older Adult)  \n",
       "2997    18 Years and older   (Adult, Older Adult)  \n",
       "2998               18 Years to 34 Years   (Adult)  \n",
       "2999  18 Years to 69 Years   (Adult, Older Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 68,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 69,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('7th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 70,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-70-e0d3b98c2c2b>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT04491123?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=32&rank=21001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 71,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>March 11, 2020</td>\n",
       "      <td>Intrathecal analgesia is used in refractory ca...</td>\n",
       "      <td>Descriptive multicenter study including patien...</td>\n",
       "      <td>Refractory Cancer Pain\\nIntrathecal Analgesia</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion criteria:\\npatients aged 18 and olde...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>July 13, 2020</td>\n",
       "      <td>Introduction Sleeping problems experienced by ...</td>\n",
       "      <td>BACKGROUND AND CURRENT STATUS\\nSleep is a comp...</td>\n",
       "      <td>Music Therapy\\nCaregivers\\nSleep\\nPalliative Care</td>\n",
       "      <td>Other: Music Therapy\\nWe are aiming to use mus...</td>\n",
       "      <td>Inclusion Criteria:\\nBeing informal carer of a...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 90 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>July 27, 2020</td>\n",
       "      <td>Caudal anesthesia is a commonly used neuraxial...</td>\n",
       "      <td>Caudal epidural injection of local anesthetic ...</td>\n",
       "      <td>Anesthesia, Caudal\\nPediatrics\\nElevated Intra...</td>\n",
       "      <td>Procedure: Caudal anesthesia\\nCaudal epidural ...</td>\n",
       "      <td>Inclusion Criteria:\\nASA class 1 or 2\\nSchedul...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>12 Months to 8 Years   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>July 23, 2020</td>\n",
       "      <td>This study is designed to evaluate treatment e...</td>\n",
       "      <td>This study is designed to assess the correlati...</td>\n",
       "      <td>Alzheimer Disease\\nDementia of Alzheimer Type</td>\n",
       "      <td>Drug: ATH-1017\\nDaily subcutaneous (SC) inject...</td>\n",
       "      <td>Key Inclusion Criteria:\\nAge 55 to 85 years\\nM...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>55 Years to 85 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>July 24, 2020</td>\n",
       "      <td>The study included all patients admitted to th...</td>\n",
       "      <td>Objective: to investigate the problem of incom...</td>\n",
       "      <td>NSTEMI</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion Criteria:\\n- All patients who were r...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>April 24, 2020</td>\n",
       "      <td>Acute respiratory distress syndrome (ARDS) is ...</td>\n",
       "      <td>This is an interventional study evaluating the...</td>\n",
       "      <td>Acute Respiratory Distress Syndrome</td>\n",
       "      <td>Other: Verticalization (bed)\\nThe use of a ded...</td>\n",
       "      <td>Inclusion Criteria:\\nPatient with moderate or ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>April 28, 2020</td>\n",
       "      <td>Chronic Obstructive Pulmonary Disease (COPD) i...</td>\n",
       "      <td>Chronic Obstructive Pulmonary Disease (COPD) i...</td>\n",
       "      <td>COPD\\nHypoxia\\nClosed-Loop Communication\\nDysp...</td>\n",
       "      <td>Device: O2matic\\nO2matic is a closed-loop-syst...</td>\n",
       "      <td>Inclusion Criteria:\\nCOPD veryfied by Forced E...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>35 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>April 9, 2020</td>\n",
       "      <td>This is a classical in vivo clinical trial, fo...</td>\n",
       "      <td>This study followed WHO recommendations for in...</td>\n",
       "      <td>Malaria</td>\n",
       "      <td>Drug: Coartem™ (Artemether-lumefantrine combin...</td>\n",
       "      <td>Inclusion Criteria:\\nAges 6 to 59 months\\nWeig...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>6 Months to 59 Months   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>April 27, 2020</td>\n",
       "      <td>The loss of both muscle mass and quality with ...</td>\n",
       "      <td>Some recent work has examined the possibility ...</td>\n",
       "      <td>Sarcopenia</td>\n",
       "      <td>Diagnostic Test: Bed side Ultrasound\\nHandgrip...</td>\n",
       "      <td>Inclusion Criteria:\\neach subject must be 65 y...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>65 Years and older   (Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>April 28, 2020</td>\n",
       "      <td>The fight against the spread of the 2019-nCoV ...</td>\n",
       "      <td>Researches has showed that that the informatio...</td>\n",
       "      <td>Blood Donation</td>\n",
       "      <td>Behavioral: blood donation SMS\\nThe literature...</td>\n",
       "      <td>Inclusion Criteria:\\nblood donors whose last t...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 60 Years   (Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0          March 11, 2020  Intrathecal analgesia is used in refractory ca...   \n",
       "1           July 13, 2020  Introduction Sleeping problems experienced by ...   \n",
       "2           July 27, 2020  Caudal anesthesia is a commonly used neuraxial...   \n",
       "3           July 23, 2020  This study is designed to evaluate treatment e...   \n",
       "4           July 24, 2020  The study included all patients admitted to th...   \n",
       "...                   ...                                                ...   \n",
       "2995       April 24, 2020  Acute respiratory distress syndrome (ARDS) is ...   \n",
       "2996       April 28, 2020  Chronic Obstructive Pulmonary Disease (COPD) i...   \n",
       "2997        April 9, 2020  This is a classical in vivo clinical trial, fo...   \n",
       "2998       April 27, 2020  The loss of both muscle mass and quality with ...   \n",
       "2999       April 28, 2020  The fight against the spread of the 2019-nCoV ...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     Descriptive multicenter study including patien...   \n",
       "1     BACKGROUND AND CURRENT STATUS\\nSleep is a comp...   \n",
       "2     Caudal epidural injection of local anesthetic ...   \n",
       "3     This study is designed to assess the correlati...   \n",
       "4     Objective: to investigate the problem of incom...   \n",
       "...                                                 ...   \n",
       "2995  This is an interventional study evaluating the...   \n",
       "2996  Chronic Obstructive Pulmonary Disease (COPD) i...   \n",
       "2997  This study followed WHO recommendations for in...   \n",
       "2998  Some recent work has examined the possibility ...   \n",
       "2999  Researches has showed that that the informatio...   \n",
       "\n",
       "                                              Condition  \\\n",
       "0         Refractory Cancer Pain\\nIntrathecal Analgesia   \n",
       "1     Music Therapy\\nCaregivers\\nSleep\\nPalliative Care   \n",
       "2     Anesthesia, Caudal\\nPediatrics\\nElevated Intra...   \n",
       "3         Alzheimer Disease\\nDementia of Alzheimer Type   \n",
       "4                                                NSTEMI   \n",
       "...                                                 ...   \n",
       "2995                Acute Respiratory Distress Syndrome   \n",
       "2996  COPD\\nHypoxia\\nClosed-Loop Communication\\nDysp...   \n",
       "2997                                            Malaria   \n",
       "2998                                         Sarcopenia   \n",
       "2999                                     Blood Donation   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0                                          Not Provided   \n",
       "1     Other: Music Therapy\\nWe are aiming to use mus...   \n",
       "2     Procedure: Caudal anesthesia\\nCaudal epidural ...   \n",
       "3     Drug: ATH-1017\\nDaily subcutaneous (SC) inject...   \n",
       "4                                          Not Provided   \n",
       "...                                                 ...   \n",
       "2995  Other: Verticalization (bed)\\nThe use of a ded...   \n",
       "2996  Device: O2matic\\nO2matic is a closed-loop-syst...   \n",
       "2997  Drug: Coartem™ (Artemether-lumefantrine combin...   \n",
       "2998  Diagnostic Test: Bed side Ultrasound\\nHandgrip...   \n",
       "2999  Behavioral: blood donation SMS\\nThe literature...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion criteria:\\npatients aged 18 and olde...   \n",
       "1     Inclusion Criteria:\\nBeing informal carer of a...   \n",
       "2     Inclusion Criteria:\\nASA class 1 or 2\\nSchedul...   \n",
       "3     Key Inclusion Criteria:\\nAge 55 to 85 years\\nM...   \n",
       "4     Inclusion Criteria:\\n- All patients who were r...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nPatient with moderate or ...   \n",
       "2996  Inclusion Criteria:\\nCOPD veryfied by Forced E...   \n",
       "2997  Inclusion Criteria:\\nAges 6 to 59 months\\nWeig...   \n",
       "2998  Inclusion Criteria:\\neach subject must be 65 y...   \n",
       "2999  Inclusion Criteria:\\nblood donors whose last t...   \n",
       "\n",
       "                             Gender  \\\n",
       "0     Sexes Eligible for Study: All   \n",
       "1     Sexes Eligible for Study: All   \n",
       "2     Sexes Eligible for Study: All   \n",
       "3     Sexes Eligible for Study: All   \n",
       "4     Sexes Eligible for Study: All   \n",
       "...                             ...   \n",
       "2995  Sexes Eligible for Study: All   \n",
       "2996  Sexes Eligible for Study: All   \n",
       "2997  Sexes Eligible for Study: All   \n",
       "2998  Sexes Eligible for Study: All   \n",
       "2999  Sexes Eligible for Study: All   \n",
       "\n",
       "                                             Ages  \n",
       "0       18 Years and older   (Adult, Older Adult)  \n",
       "1     18 Years to 90 Years   (Adult, Older Adult)  \n",
       "2                  12 Months to 8 Years   (Child)  \n",
       "3     55 Years to 85 Years   (Adult, Older Adult)  \n",
       "4       18 Years and older   (Adult, Older Adult)  \n",
       "...                                           ...  \n",
       "2995    18 Years and older   (Adult, Older Adult)  \n",
       "2996    35 Years and older   (Adult, Older Adult)  \n",
       "2997              6 Months to 59 Months   (Child)  \n",
       "2998           65 Years and older   (Older Adult)  \n",
       "2999               18 Years to 60 Years   (Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 71,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 72,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('8th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 73,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-73-994f532d07f6>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT04370873?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=62&rank=24001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 74,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>April 29, 2020</td>\n",
       "      <td>The primary objectives of this study are to as...</td>\n",
       "      <td>Part 1 of this study will assess safety, toler...</td>\n",
       "      <td>Pulmonary Hypertension</td>\n",
       "      <td>Drug: MK-5475\\nMK-5475 32 µg, 100 µg, 195 µg, ...</td>\n",
       "      <td>Inclusion Criteria:\\nIs male or female, from 4...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>40 Years to 80 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>April 29, 2020</td>\n",
       "      <td>To determine the optimal EGFR TKIs treatment s...</td>\n",
       "      <td>RNA extraction: The investigators will extract...</td>\n",
       "      <td>EGFR Exon 19 Mutation\\nTumor Progression</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion Criteria:\\nPatients have signed the ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>20 Years to 90 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>April 29, 2020</td>\n",
       "      <td>Preeclampsia is a multifocal syndrome reported...</td>\n",
       "      <td>Fluid resuscitation is a key determinant in th...</td>\n",
       "      <td>Elective Cesarean Section\\nPreeclampsia</td>\n",
       "      <td>Procedure: Spinal Anesthesia\\nPerformed at the...</td>\n",
       "      <td>Inclusion Criteria:\\nSingleton pregnancy.\\n32 ...</td>\n",
       "      <td>Sexes Eligible for Study: Female</td>\n",
       "      <td>19 Years to 45 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>April 26, 2020</td>\n",
       "      <td>Vitamin D deficiency has been linked to hypert...</td>\n",
       "      <td>Collected data from Turin University indicate ...</td>\n",
       "      <td>COVID-19</td>\n",
       "      <td>Other: Exposure\\nIndividuals with SARS-CoV-2 e...</td>\n",
       "      <td>Inclusion Criteria:\\nAdults of 18 years and ab...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>April 26, 2020</td>\n",
       "      <td>This is a randomized, open-label trial to asse...</td>\n",
       "      <td>COVID-19 is an aggressive and contagious virus...</td>\n",
       "      <td>COVID-19</td>\n",
       "      <td>Drug: Hydroxychloroquine\\nHydroxychloroquine 4...</td>\n",
       "      <td>Inclusion Criteria:\\nAble to read and understa...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>30 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>January 13, 2020</td>\n",
       "      <td>The study objective is to determine VAP (Venti...</td>\n",
       "      <td>The aim of the study is to determine VAP (Vent...</td>\n",
       "      <td>Ventilator-associated Pneumonia</td>\n",
       "      <td>Device: ETTEvac\\nEndotracheal tube with evacua...</td>\n",
       "      <td>Inclusion Criteria:\\nintubation with a study t...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>January 23, 2020</td>\n",
       "      <td>This study used a two-group pre-posttest exper...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Diet, Healthy</td>\n",
       "      <td>Behavioral: Mobile goal-setting intervention\\n...</td>\n",
       "      <td>Inclusion Criteria:\\nAged 18 and above\\nUnderg...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 23 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>January 23, 2020</td>\n",
       "      <td>This is a prospective randomized controlled tr...</td>\n",
       "      <td>Obtaining a baby's heart rate (HR) is an impor...</td>\n",
       "      <td>Neonatal Resuscitation</td>\n",
       "      <td>Procedure: Handheld fetal doppler ultrasound\\n...</td>\n",
       "      <td>Inclusion Criteria:\\nAll neonates admitted to ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>0 Hours to 1 Hour   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>December 16, 2019</td>\n",
       "      <td>The Ageing in a Networked Society -Social Expe...</td>\n",
       "      <td>The objective of the study is to evaluate the ...</td>\n",
       "      <td>Loneliness\\nSocial Isolation</td>\n",
       "      <td>Other: Facebook course\\nThe intervention consi...</td>\n",
       "      <td>Inclusion Criteria:\\nParticipants to the third...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>75 Years and older   (Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>December 20, 2019</td>\n",
       "      <td>The main objective of this research is to asse...</td>\n",
       "      <td>Neck pain is the fourth cause of loss of years...</td>\n",
       "      <td>Pain, Neck</td>\n",
       "      <td>Device: Right Left Judgement\\nIt is an applica...</td>\n",
       "      <td>Inclusion Criteria:\\nHealthy volunteers.\\nAsym...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0          April 29, 2020  The primary objectives of this study are to as...   \n",
       "1          April 29, 2020  To determine the optimal EGFR TKIs treatment s...   \n",
       "2          April 29, 2020  Preeclampsia is a multifocal syndrome reported...   \n",
       "3          April 26, 2020  Vitamin D deficiency has been linked to hypert...   \n",
       "4          April 26, 2020  This is a randomized, open-label trial to asse...   \n",
       "...                   ...                                                ...   \n",
       "2995     January 13, 2020  The study objective is to determine VAP (Venti...   \n",
       "2996     January 23, 2020  This study used a two-group pre-posttest exper...   \n",
       "2997     January 23, 2020  This is a prospective randomized controlled tr...   \n",
       "2998    December 16, 2019  The Ageing in a Networked Society -Social Expe...   \n",
       "2999    December 20, 2019  The main objective of this research is to asse...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     Part 1 of this study will assess safety, toler...   \n",
       "1     RNA extraction: The investigators will extract...   \n",
       "2     Fluid resuscitation is a key determinant in th...   \n",
       "3     Collected data from Turin University indicate ...   \n",
       "4     COVID-19 is an aggressive and contagious virus...   \n",
       "...                                                 ...   \n",
       "2995  The aim of the study is to determine VAP (Vent...   \n",
       "2996                                       Not Provided   \n",
       "2997  Obtaining a baby's heart rate (HR) is an impor...   \n",
       "2998  The objective of the study is to evaluate the ...   \n",
       "2999  Neck pain is the fourth cause of loss of years...   \n",
       "\n",
       "                                     Condition  \\\n",
       "0                       Pulmonary Hypertension   \n",
       "1     EGFR Exon 19 Mutation\\nTumor Progression   \n",
       "2      Elective Cesarean Section\\nPreeclampsia   \n",
       "3                                     COVID-19   \n",
       "4                                     COVID-19   \n",
       "...                                        ...   \n",
       "2995           Ventilator-associated Pneumonia   \n",
       "2996                             Diet, Healthy   \n",
       "2997                    Neonatal Resuscitation   \n",
       "2998              Loneliness\\nSocial Isolation   \n",
       "2999                                Pain, Neck   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Drug: MK-5475\\nMK-5475 32 µg, 100 µg, 195 µg, ...   \n",
       "1                                          Not Provided   \n",
       "2     Procedure: Spinal Anesthesia\\nPerformed at the...   \n",
       "3     Other: Exposure\\nIndividuals with SARS-CoV-2 e...   \n",
       "4     Drug: Hydroxychloroquine\\nHydroxychloroquine 4...   \n",
       "...                                                 ...   \n",
       "2995  Device: ETTEvac\\nEndotracheal tube with evacua...   \n",
       "2996  Behavioral: Mobile goal-setting intervention\\n...   \n",
       "2997  Procedure: Handheld fetal doppler ultrasound\\n...   \n",
       "2998  Other: Facebook course\\nThe intervention consi...   \n",
       "2999  Device: Right Left Judgement\\nIt is an applica...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\nIs male or female, from 4...   \n",
       "1     Inclusion Criteria:\\nPatients have signed the ...   \n",
       "2     Inclusion Criteria:\\nSingleton pregnancy.\\n32 ...   \n",
       "3     Inclusion Criteria:\\nAdults of 18 years and ab...   \n",
       "4     Inclusion Criteria:\\nAble to read and understa...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nintubation with a study t...   \n",
       "2996  Inclusion Criteria:\\nAged 18 and above\\nUnderg...   \n",
       "2997  Inclusion Criteria:\\nAll neonates admitted to ...   \n",
       "2998  Inclusion Criteria:\\nParticipants to the third...   \n",
       "2999  Inclusion Criteria:\\nHealthy volunteers.\\nAsym...   \n",
       "\n",
       "                                Gender  \\\n",
       "0        Sexes Eligible for Study: All   \n",
       "1        Sexes Eligible for Study: All   \n",
       "2     Sexes Eligible for Study: Female   \n",
       "3        Sexes Eligible for Study: All   \n",
       "4        Sexes Eligible for Study: All   \n",
       "...                                ...   \n",
       "2995     Sexes Eligible for Study: All   \n",
       "2996     Sexes Eligible for Study: All   \n",
       "2997     Sexes Eligible for Study: All   \n",
       "2998     Sexes Eligible for Study: All   \n",
       "2999     Sexes Eligible for Study: All   \n",
       "\n",
       "                                             Ages  \n",
       "0     40 Years to 80 Years   (Adult, Older Adult)  \n",
       "1     20 Years to 90 Years   (Adult, Older Adult)  \n",
       "2                  19 Years to 45 Years   (Adult)  \n",
       "3       18 Years and older   (Adult, Older Adult)  \n",
       "4       30 Years and older   (Adult, Older Adult)  \n",
       "...                                           ...  \n",
       "2995    18 Years and older   (Adult, Older Adult)  \n",
       "2996               18 Years to 23 Years   (Adult)  \n",
       "2997                  0 Hours to 1 Hour   (Child)  \n",
       "2998           75 Years and older   (Older Adult)  \n",
       "2999  18 Years to 65 Years   (Adult, Older Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 74,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 75,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('9th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 78,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-78-cc09de87632b>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT04242563?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=92&rank=27001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 79,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>December 30, 2019</td>\n",
       "      <td>Improving the management of perioperative anxi...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Anxiety</td>\n",
       "      <td>Other: VIRTUAL REALITY\\nPatient equipped with ...</td>\n",
       "      <td>Inclusion Criteria:\\nMajor male or female pati...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>January 23, 2020</td>\n",
       "      <td>Binge Eating Disorder (BED) is the most common...</td>\n",
       "      <td>A randomized controlled trial (RCT) will evalu...</td>\n",
       "      <td>Binge-Eating Disorder\\nBinge Eating\\nAnxiety D...</td>\n",
       "      <td>Behavioral: Executive Function- Enhanced CBT f...</td>\n",
       "      <td>Inclusion Criteria:\\nAge 18-65\\nAbility to rea...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>January 23, 2020</td>\n",
       "      <td>The purpose of the study is to evaluate the ef...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Hidradenitis Suppurativa</td>\n",
       "      <td>Drug: Bimekizumab\\nSubjects will receive bimek...</td>\n",
       "      <td>Inclusion Criteria:\\nParticipant must be at le...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>January 23, 2020</td>\n",
       "      <td>The purpose of the study is to evaluate the ef...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Hidradenitis Suppurativa</td>\n",
       "      <td>Drug: Bimekizumab\\nSubjects will receive bimek...</td>\n",
       "      <td>Inclusion Criteria:\\nParticipant must be at le...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>January 22, 2020</td>\n",
       "      <td>Cervicogenic headache (CEH) is a type of sympt...</td>\n",
       "      <td>The general demographics, pain status and cerv...</td>\n",
       "      <td>Cervicogenic Headache\\nNeck Pain</td>\n",
       "      <td>Diagnostic Test: Lateral radiography\\nThe lord...</td>\n",
       "      <td>Inclusion Criteria:\\nFor Cervicogenic headache...</td>\n",
       "      <td>Sexes Eligible for Study: Female</td>\n",
       "      <td>18 Years to 50 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>October 1, 2019</td>\n",
       "      <td>In vivo knee kinematics will be assessed for 2...</td>\n",
       "      <td>Enrollment will be increased to 24 subjects to...</td>\n",
       "      <td>Total Knee Arthroplasty\\nOsteo Arthritis Knee\\...</td>\n",
       "      <td>Device: Klassic Knee System\\nAt present, all T...</td>\n",
       "      <td>Inclusion Criteria:\\nSubjects will have a Klas...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>October 1, 2019</td>\n",
       "      <td>Develop and pilot test four theory-based educa...</td>\n",
       "      <td>Of the 400 obese and non-obese adult asthmatic...</td>\n",
       "      <td>Asthma\\nObesity</td>\n",
       "      <td>Behavioral: Better asthma self-management and ...</td>\n",
       "      <td>Inclusion Criteria:\\n21-64 years of age\\nBMI ≥...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>21 Years to 64 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>October 1, 2019</td>\n",
       "      <td>Tonsillectomy is one of the most common surgic...</td>\n",
       "      <td>The idea behind the use of local anesthetic ag...</td>\n",
       "      <td>Post-tonsillectomy Analgesia\\nLevobupivacaine</td>\n",
       "      <td>Drug: Levobupivacaine hydrochloride\\nlevobupiv...</td>\n",
       "      <td>Inclusion Criteria:\\nWeight: 10-40 kg\\nAmerica...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>3 Years to 7 Years   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>October 1, 2019</td>\n",
       "      <td>The purpose of this study is to collect confir...</td>\n",
       "      <td>This study is a multi-center, non-randomized, ...</td>\n",
       "      <td>Diabetes</td>\n",
       "      <td>Device: Extended Infusion Set\\nEach subject is...</td>\n",
       "      <td>Inclusion Criteria:\\nSubject is age 18 - 80 ye...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 80 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>October 1, 2019</td>\n",
       "      <td>BMS-986165 Is broken down by the body through ...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Healthy Participants</td>\n",
       "      <td>Drug: BMS-986165\\nSpecified Dose on Specified ...</td>\n",
       "      <td>For more information regarding Bristol-Myers S...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 50 Years   (Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0       December 30, 2019  Improving the management of perioperative anxi...   \n",
       "1        January 23, 2020  Binge Eating Disorder (BED) is the most common...   \n",
       "2        January 23, 2020  The purpose of the study is to evaluate the ef...   \n",
       "3        January 23, 2020  The purpose of the study is to evaluate the ef...   \n",
       "4        January 22, 2020  Cervicogenic headache (CEH) is a type of sympt...   \n",
       "...                   ...                                                ...   \n",
       "2995      October 1, 2019  In vivo knee kinematics will be assessed for 2...   \n",
       "2996      October 1, 2019  Develop and pilot test four theory-based educa...   \n",
       "2997      October 1, 2019  Tonsillectomy is one of the most common surgic...   \n",
       "2998      October 1, 2019  The purpose of this study is to collect confir...   \n",
       "2999      October 1, 2019  BMS-986165 Is broken down by the body through ...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0                                          Not Provided   \n",
       "1     A randomized controlled trial (RCT) will evalu...   \n",
       "2                                          Not Provided   \n",
       "3                                          Not Provided   \n",
       "4     The general demographics, pain status and cerv...   \n",
       "...                                                 ...   \n",
       "2995  Enrollment will be increased to 24 subjects to...   \n",
       "2996  Of the 400 obese and non-obese adult asthmatic...   \n",
       "2997  The idea behind the use of local anesthetic ag...   \n",
       "2998  This study is a multi-center, non-randomized, ...   \n",
       "2999                                       Not Provided   \n",
       "\n",
       "                                              Condition  \\\n",
       "0                                               Anxiety   \n",
       "1     Binge-Eating Disorder\\nBinge Eating\\nAnxiety D...   \n",
       "2                              Hidradenitis Suppurativa   \n",
       "3                              Hidradenitis Suppurativa   \n",
       "4                      Cervicogenic Headache\\nNeck Pain   \n",
       "...                                                 ...   \n",
       "2995  Total Knee Arthroplasty\\nOsteo Arthritis Knee\\...   \n",
       "2996                                    Asthma\\nObesity   \n",
       "2997      Post-tonsillectomy Analgesia\\nLevobupivacaine   \n",
       "2998                                           Diabetes   \n",
       "2999                               Healthy Participants   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Other: VIRTUAL REALITY\\nPatient equipped with ...   \n",
       "1     Behavioral: Executive Function- Enhanced CBT f...   \n",
       "2     Drug: Bimekizumab\\nSubjects will receive bimek...   \n",
       "3     Drug: Bimekizumab\\nSubjects will receive bimek...   \n",
       "4     Diagnostic Test: Lateral radiography\\nThe lord...   \n",
       "...                                                 ...   \n",
       "2995  Device: Klassic Knee System\\nAt present, all T...   \n",
       "2996  Behavioral: Better asthma self-management and ...   \n",
       "2997  Drug: Levobupivacaine hydrochloride\\nlevobupiv...   \n",
       "2998  Device: Extended Infusion Set\\nEach subject is...   \n",
       "2999  Drug: BMS-986165\\nSpecified Dose on Specified ...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\nMajor male or female pati...   \n",
       "1     Inclusion Criteria:\\nAge 18-65\\nAbility to rea...   \n",
       "2     Inclusion Criteria:\\nParticipant must be at le...   \n",
       "3     Inclusion Criteria:\\nParticipant must be at le...   \n",
       "4     Inclusion Criteria:\\nFor Cervicogenic headache...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nSubjects will have a Klas...   \n",
       "2996  Inclusion Criteria:\\n21-64 years of age\\nBMI ≥...   \n",
       "2997  Inclusion Criteria:\\nWeight: 10-40 kg\\nAmerica...   \n",
       "2998  Inclusion Criteria:\\nSubject is age 18 - 80 ye...   \n",
       "2999  For more information regarding Bristol-Myers S...   \n",
       "\n",
       "                                Gender  \\\n",
       "0        Sexes Eligible for Study: All   \n",
       "1        Sexes Eligible for Study: All   \n",
       "2        Sexes Eligible for Study: All   \n",
       "3        Sexes Eligible for Study: All   \n",
       "4     Sexes Eligible for Study: Female   \n",
       "...                                ...   \n",
       "2995     Sexes Eligible for Study: All   \n",
       "2996     Sexes Eligible for Study: All   \n",
       "2997     Sexes Eligible for Study: All   \n",
       "2998     Sexes Eligible for Study: All   \n",
       "2999     Sexes Eligible for Study: All   \n",
       "\n",
       "                                             Ages  \n",
       "0       18 Years and older   (Adult, Older Adult)  \n",
       "1     18 Years to 65 Years   (Adult, Older Adult)  \n",
       "2       18 Years and older   (Adult, Older Adult)  \n",
       "3       18 Years and older   (Adult, Older Adult)  \n",
       "4                  18 Years to 50 Years   (Adult)  \n",
       "...                                           ...  \n",
       "2995    18 Years and older   (Adult, Older Adult)  \n",
       "2996               21 Years to 64 Years   (Adult)  \n",
       "2997                 3 Years to 7 Years   (Child)  \n",
       "2998  18 Years to 80 Years   (Adult, Older Adult)  \n",
       "2999               18 Years to 50 Years   (Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 79,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 80,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('10th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 85,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-85-153efb219587>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT04113642?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=122&rank=30001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 86,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>October 1, 2019</td>\n",
       "      <td>The aim of this study was to evaluate the chan...</td>\n",
       "      <td>Spinal stabilization is crucial in maintaining...</td>\n",
       "      <td>Abdominal Muscle\\nPosture\\nMuscle Strength</td>\n",
       "      <td>Other: ultrasonographic measurement of abdomin...</td>\n",
       "      <td>Inclusion Criteria:\\nage more than18 years\\nvo...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>October 1, 2019</td>\n",
       "      <td>The study will evaluate the proportion of pati...</td>\n",
       "      <td>A total of 200 HIV/HCV co-infected patients wh...</td>\n",
       "      <td>Hepatitis C\\nLiver Cirrhoses\\nLiver Inflammati...</td>\n",
       "      <td>Device: HCV point of care machine\\nXpert HCV A...</td>\n",
       "      <td>Inclusion Criteria:\\nSubjects must meet all of...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>October 1, 2019</td>\n",
       "      <td>The purpose of this study is to document the e...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Attention Deficit Disorder With Hyperactivity</td>\n",
       "      <td>Drug: MPH (Concerta)\\nMPH (Concerta) is approv...</td>\n",
       "      <td>Inclusion Criteria:\\nParticipants have been in...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>Child, Adult, Older Adult</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>October 1, 2019</td>\n",
       "      <td>To evaluate the effectiveness of Yoga Nasal Ir...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Chronic Tension-Type Headache</td>\n",
       "      <td>Other: Jalaneti\\nSterilised and lukewarm isoto...</td>\n",
       "      <td>Inclusion Criteria:\\nMeeting the diagnostic cr...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 60 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>October 1, 2019</td>\n",
       "      <td>Cervical spondylosis is a chronic degenerative...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Cervical Spondylosis\\nNeck Pain</td>\n",
       "      <td>Other: Yoga Therapy\\nAn hour of yoga therapy i...</td>\n",
       "      <td>Inclusion Criteria:\\nNeck pain of CS as per di...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 55 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>June 12, 2019</td>\n",
       "      <td>For chronic hemodialysis patients, the creatio...</td>\n",
       "      <td>The trial is designed to determine if a pre-su...</td>\n",
       "      <td>Arterio-venous Fistula\\nKidney Failure\\nHemodi...</td>\n",
       "      <td>Other: Exercise\\nParticipant randomized to an ...</td>\n",
       "      <td>Inclusion Criteria:\\nScheduled for placement o...</td>\n",
       "      <td>Sexes Eligible for Study: All\\nGender Based El...</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>June 14, 2019</td>\n",
       "      <td>Acute gastroenteritis (AGE) is one of the most...</td>\n",
       "      <td>Study design: This will be a randomized, fully...</td>\n",
       "      <td>Diarrhoea;Acute</td>\n",
       "      <td>Dietary Supplement: Imunoglukan PH4\\nChildren ...</td>\n",
       "      <td>Inclusion Criteria:\\nChildren aged 13-120 mont...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>13 Months to 120 Months   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>June 13, 2019</td>\n",
       "      <td>The objective of the study is to demonstrate t...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Atrial Fibrillation</td>\n",
       "      <td>Device: HeartLight X3\\nPulmonary vein isolation</td>\n",
       "      <td>Inclusion Criteria:\\nearly persistent AF, fail...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 75 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>June 13, 2019</td>\n",
       "      <td>This study focuses on representations of the i...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Anorexia Nervosa</td>\n",
       "      <td>Behavioral: perceptive tests\\nmany tests are r...</td>\n",
       "      <td>Inclusion Criteria:\\nAnorexia Nervosa accordin...</td>\n",
       "      <td>Sexes Eligible for Study: Female</td>\n",
       "      <td>14 Years and older   (Child, Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>June 13, 2019</td>\n",
       "      <td>The objective of this study is to evaluate ang...</td>\n",
       "      <td>A prospective, multicenter, single-arm, intent...</td>\n",
       "      <td>Chronic Total Occlusion\\nIschemic Heart Diseas...</td>\n",
       "      <td>Procedure: Chronic Total Occlusion Revasculari...</td>\n",
       "      <td>Inclusion Criteria:\\nParticipants must meet al...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0         October 1, 2019  The aim of this study was to evaluate the chan...   \n",
       "1         October 1, 2019  The study will evaluate the proportion of pati...   \n",
       "2         October 1, 2019  The purpose of this study is to document the e...   \n",
       "3         October 1, 2019  To evaluate the effectiveness of Yoga Nasal Ir...   \n",
       "4         October 1, 2019  Cervical spondylosis is a chronic degenerative...   \n",
       "...                   ...                                                ...   \n",
       "2995        June 12, 2019  For chronic hemodialysis patients, the creatio...   \n",
       "2996        June 14, 2019  Acute gastroenteritis (AGE) is one of the most...   \n",
       "2997        June 13, 2019  The objective of the study is to demonstrate t...   \n",
       "2998        June 13, 2019  This study focuses on representations of the i...   \n",
       "2999        June 13, 2019  The objective of this study is to evaluate ang...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     Spinal stabilization is crucial in maintaining...   \n",
       "1     A total of 200 HIV/HCV co-infected patients wh...   \n",
       "2                                          Not Provided   \n",
       "3                                          Not Provided   \n",
       "4                                          Not Provided   \n",
       "...                                                 ...   \n",
       "2995  The trial is designed to determine if a pre-su...   \n",
       "2996  Study design: This will be a randomized, fully...   \n",
       "2997                                       Not Provided   \n",
       "2998                                       Not Provided   \n",
       "2999  A prospective, multicenter, single-arm, intent...   \n",
       "\n",
       "                                              Condition  \\\n",
       "0            Abdominal Muscle\\nPosture\\nMuscle Strength   \n",
       "1     Hepatitis C\\nLiver Cirrhoses\\nLiver Inflammati...   \n",
       "2         Attention Deficit Disorder With Hyperactivity   \n",
       "3                         Chronic Tension-Type Headache   \n",
       "4                       Cervical Spondylosis\\nNeck Pain   \n",
       "...                                                 ...   \n",
       "2995  Arterio-venous Fistula\\nKidney Failure\\nHemodi...   \n",
       "2996                                    Diarrhoea;Acute   \n",
       "2997                                Atrial Fibrillation   \n",
       "2998                                   Anorexia Nervosa   \n",
       "2999  Chronic Total Occlusion\\nIschemic Heart Diseas...   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Other: ultrasonographic measurement of abdomin...   \n",
       "1     Device: HCV point of care machine\\nXpert HCV A...   \n",
       "2     Drug: MPH (Concerta)\\nMPH (Concerta) is approv...   \n",
       "3     Other: Jalaneti\\nSterilised and lukewarm isoto...   \n",
       "4     Other: Yoga Therapy\\nAn hour of yoga therapy i...   \n",
       "...                                                 ...   \n",
       "2995  Other: Exercise\\nParticipant randomized to an ...   \n",
       "2996  Dietary Supplement: Imunoglukan PH4\\nChildren ...   \n",
       "2997    Device: HeartLight X3\\nPulmonary vein isolation   \n",
       "2998  Behavioral: perceptive tests\\nmany tests are r...   \n",
       "2999  Procedure: Chronic Total Occlusion Revasculari...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\nage more than18 years\\nvo...   \n",
       "1     Inclusion Criteria:\\nSubjects must meet all of...   \n",
       "2     Inclusion Criteria:\\nParticipants have been in...   \n",
       "3     Inclusion Criteria:\\nMeeting the diagnostic cr...   \n",
       "4     Inclusion Criteria:\\nNeck pain of CS as per di...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nScheduled for placement o...   \n",
       "2996  Inclusion Criteria:\\nChildren aged 13-120 mont...   \n",
       "2997  Inclusion Criteria:\\nearly persistent AF, fail...   \n",
       "2998  Inclusion Criteria:\\nAnorexia Nervosa accordin...   \n",
       "2999  Inclusion Criteria:\\nParticipants must meet al...   \n",
       "\n",
       "                                                 Gender  \\\n",
       "0                         Sexes Eligible for Study: All   \n",
       "1                         Sexes Eligible for Study: All   \n",
       "2                         Sexes Eligible for Study: All   \n",
       "3                         Sexes Eligible for Study: All   \n",
       "4                         Sexes Eligible for Study: All   \n",
       "...                                                 ...   \n",
       "2995  Sexes Eligible for Study: All\\nGender Based El...   \n",
       "2996                      Sexes Eligible for Study: All   \n",
       "2997                      Sexes Eligible for Study: All   \n",
       "2998                   Sexes Eligible for Study: Female   \n",
       "2999                      Sexes Eligible for Study: All   \n",
       "\n",
       "                                                  Ages  \n",
       "0            18 Years and older   (Adult, Older Adult)  \n",
       "1            18 Years and older   (Adult, Older Adult)  \n",
       "2                            Child, Adult, Older Adult  \n",
       "3                       18 Years to 60 Years   (Adult)  \n",
       "4                       18 Years to 55 Years   (Adult)  \n",
       "...                                                ...  \n",
       "2995         18 Years and older   (Adult, Older Adult)  \n",
       "2996                 13 Months to 120 Months   (Child)  \n",
       "2997       18 Years to 75 Years   (Adult, Older Adult)  \n",
       "2998  14 Years and older   (Child, Adult, Older Adult)  \n",
       "2999         18 Years and older   (Adult, Older Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 86,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 87,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('11th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 88,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-88-5239e27e9a5d>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT03988127?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=152&rank=33001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 89,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>June 13, 2019</td>\n",
       "      <td>The perfusion index (PI) is the ratio of the p...</td>\n",
       "      <td>All patients after admission will be monitored...</td>\n",
       "      <td>Pain, Postoperative</td>\n",
       "      <td>Diagnostic Test: Perfusion index\\nThe perfusio...</td>\n",
       "      <td>Inclusion Criteria:\\nSedated intubated surgica...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 60 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>June 12, 2019</td>\n",
       "      <td>The purpose of the study is the measure the le...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Migraine</td>\n",
       "      <td>Drug: Lasmiditan\\nAdministered orally.\\nOther ...</td>\n",
       "      <td>Inclusion Criteria:\\nParticipants must have a ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>6 Years to 17 Years   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>May 14, 2019</td>\n",
       "      <td>Pain control modalities were evaluated after t...</td>\n",
       "      <td>Pain control modalities were evaluated after t...</td>\n",
       "      <td>Pain\\nThyroidectomy</td>\n",
       "      <td>Other: Acetaminophen and hydrocodone based pai...</td>\n",
       "      <td>Inclusion Criteria:\\nthyroid disease\\nExclusio...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>June 14, 2019</td>\n",
       "      <td>The reason for this study is to compare the ef...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Type 2 Diabetes</td>\n",
       "      <td>Drug: Tirzepatide\\nAdministered SC\\nOther Name...</td>\n",
       "      <td>Inclusion Criteria:\\nHave been diagnosed with ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>June 12, 2019</td>\n",
       "      <td>To assess the improvement in refractive error ...</td>\n",
       "      <td>The study design is a prospective, single-mask...</td>\n",
       "      <td>Myopia\\nCorneal Crosslinking\\nRefractive Error...</td>\n",
       "      <td>Procedure: 4.0 mm treatment\\nPiXL treatment wi...</td>\n",
       "      <td>Inclusion Criteria:\\nSpherical equivalent on d...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 35 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>March 4, 2019</td>\n",
       "      <td>The purpose of this study is to evaluate the s...</td>\n",
       "      <td>The drug being tested in this study is called ...</td>\n",
       "      <td>Healthy Volunteers</td>\n",
       "      <td>Drug: TAK-954\\nTAK-954 infusion administered i...</td>\n",
       "      <td>Inclusion Criteria:\\nBody mass index (BMI) gre...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 55 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>March 9, 2019</td>\n",
       "      <td>The objective of this study is to compare the ...</td>\n",
       "      <td>The first cause of hemorrhage at the time of d...</td>\n",
       "      <td>Postpartum Hemorrhage</td>\n",
       "      <td>Drug: oxytocin\\nThe patient will be received o...</td>\n",
       "      <td>Inclusion Criteria:\\nAll participants had PPH ...</td>\n",
       "      <td>Sexes Eligible for Study: Female\\nGender Based...</td>\n",
       "      <td>20 Years to 40 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>March 8, 2019</td>\n",
       "      <td>This is a single-center, open-label study to a...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Healthy Subjects</td>\n",
       "      <td>Drug: VNRX-5133 + cefepime\\nIV infusion (3 doses)</td>\n",
       "      <td>Inclusion Criteria:\\nWilling to participate in...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>March 4, 2019</td>\n",
       "      <td>The second visit of the Expanded Programme of ...</td>\n",
       "      <td>In the vast majority of sub-Saharan African co...</td>\n",
       "      <td>HIV-1</td>\n",
       "      <td>Drug: Lamivudine Oral Solution\\nIn the interve...</td>\n",
       "      <td>For HIV+ women who give consent, the measureme...</td>\n",
       "      <td>Sexes Eligible for Study: Female\\nGender Based...</td>\n",
       "      <td>15 Years and older   (Child, Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>January 18, 2019</td>\n",
       "      <td>The project examines over several days how the...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Muscle Mass\\nProtein Intake\\nDiet Modification...</td>\n",
       "      <td>Other: Distribution pattern of dietary protein...</td>\n",
       "      <td>Inclusion Criteria:\\nMen and women\\nBetween 65...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>65 Years to 80 Years   (Older Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0           June 13, 2019  The perfusion index (PI) is the ratio of the p...   \n",
       "1           June 12, 2019  The purpose of the study is the measure the le...   \n",
       "2            May 14, 2019  Pain control modalities were evaluated after t...   \n",
       "3           June 14, 2019  The reason for this study is to compare the ef...   \n",
       "4           June 12, 2019  To assess the improvement in refractive error ...   \n",
       "...                   ...                                                ...   \n",
       "2995        March 4, 2019  The purpose of this study is to evaluate the s...   \n",
       "2996        March 9, 2019  The objective of this study is to compare the ...   \n",
       "2997        March 8, 2019  This is a single-center, open-label study to a...   \n",
       "2998        March 4, 2019  The second visit of the Expanded Programme of ...   \n",
       "2999     January 18, 2019  The project examines over several days how the...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     All patients after admission will be monitored...   \n",
       "1                                          Not Provided   \n",
       "2     Pain control modalities were evaluated after t...   \n",
       "3                                          Not Provided   \n",
       "4     The study design is a prospective, single-mask...   \n",
       "...                                                 ...   \n",
       "2995  The drug being tested in this study is called ...   \n",
       "2996  The first cause of hemorrhage at the time of d...   \n",
       "2997                                       Not Provided   \n",
       "2998  In the vast majority of sub-Saharan African co...   \n",
       "2999                                       Not Provided   \n",
       "\n",
       "                                              Condition  \\\n",
       "0                                   Pain, Postoperative   \n",
       "1                                              Migraine   \n",
       "2                                   Pain\\nThyroidectomy   \n",
       "3                                       Type 2 Diabetes   \n",
       "4     Myopia\\nCorneal Crosslinking\\nRefractive Error...   \n",
       "...                                                 ...   \n",
       "2995                                 Healthy Volunteers   \n",
       "2996                              Postpartum Hemorrhage   \n",
       "2997                                   Healthy Subjects   \n",
       "2998                                              HIV-1   \n",
       "2999  Muscle Mass\\nProtein Intake\\nDiet Modification...   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Diagnostic Test: Perfusion index\\nThe perfusio...   \n",
       "1     Drug: Lasmiditan\\nAdministered orally.\\nOther ...   \n",
       "2     Other: Acetaminophen and hydrocodone based pai...   \n",
       "3     Drug: Tirzepatide\\nAdministered SC\\nOther Name...   \n",
       "4     Procedure: 4.0 mm treatment\\nPiXL treatment wi...   \n",
       "...                                                 ...   \n",
       "2995  Drug: TAK-954\\nTAK-954 infusion administered i...   \n",
       "2996  Drug: oxytocin\\nThe patient will be received o...   \n",
       "2997  Drug: VNRX-5133 + cefepime\\nIV infusion (3 doses)   \n",
       "2998  Drug: Lamivudine Oral Solution\\nIn the interve...   \n",
       "2999  Other: Distribution pattern of dietary protein...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\nSedated intubated surgica...   \n",
       "1     Inclusion Criteria:\\nParticipants must have a ...   \n",
       "2     Inclusion Criteria:\\nthyroid disease\\nExclusio...   \n",
       "3     Inclusion Criteria:\\nHave been diagnosed with ...   \n",
       "4     Inclusion Criteria:\\nSpherical equivalent on d...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nBody mass index (BMI) gre...   \n",
       "2996  Inclusion Criteria:\\nAll participants had PPH ...   \n",
       "2997  Inclusion Criteria:\\nWilling to participate in...   \n",
       "2998  For HIV+ women who give consent, the measureme...   \n",
       "2999  Inclusion Criteria:\\nMen and women\\nBetween 65...   \n",
       "\n",
       "                                                 Gender  \\\n",
       "0                         Sexes Eligible for Study: All   \n",
       "1                         Sexes Eligible for Study: All   \n",
       "2                         Sexes Eligible for Study: All   \n",
       "3                         Sexes Eligible for Study: All   \n",
       "4                         Sexes Eligible for Study: All   \n",
       "...                                                 ...   \n",
       "2995                      Sexes Eligible for Study: All   \n",
       "2996  Sexes Eligible for Study: Female\\nGender Based...   \n",
       "2997                      Sexes Eligible for Study: All   \n",
       "2998  Sexes Eligible for Study: Female\\nGender Based...   \n",
       "2999                      Sexes Eligible for Study: All   \n",
       "\n",
       "                                                  Ages  \n",
       "0                       18 Years to 60 Years   (Adult)  \n",
       "1                        6 Years to 17 Years   (Child)  \n",
       "2            18 Years and older   (Adult, Older Adult)  \n",
       "3            18 Years and older   (Adult, Older Adult)  \n",
       "4                       18 Years to 35 Years   (Adult)  \n",
       "...                                                ...  \n",
       "2995                    18 Years to 55 Years   (Adult)  \n",
       "2996                    20 Years to 40 Years   (Adult)  \n",
       "2997         18 Years and older   (Adult, Older Adult)  \n",
       "2998  15 Years and older   (Child, Adult, Older Adult)  \n",
       "2999              65 Years to 80 Years   (Older Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 89,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 90,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('12th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 102,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-102-071c5c58facd>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT03873857?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=2&rank=36001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 103,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>March 12, 2019</td>\n",
       "      <td>This study seeks to assess the effectiveness a...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Chronic Lymphocytic Leukemia (CLL)\\nCancer</td>\n",
       "      <td>Drug: Venetoclax\\ntablet;oral\\nOther Names:\\nV...</td>\n",
       "      <td>Inclusion Criteria:\\nHas a confirmed diagnosis...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>October 2, 2018</td>\n",
       "      <td>Currently, there is no high-quality evidence c...</td>\n",
       "      <td>Currently, there is no high-quality evidence c...</td>\n",
       "      <td>Empyema, Pleural\\nParapneumonic Effusion</td>\n",
       "      <td>Drug: Intrapleural Medications\\nThe IPFT group...</td>\n",
       "      <td>Inclusion Criteria:\\nAge &gt;18 years\\nClinical p...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>March 2, 2019</td>\n",
       "      <td>The purpose of this study is to evaluate the i...</td>\n",
       "      <td>This study is a opened,randomized and controll...</td>\n",
       "      <td>Hand, Foot and Mouth Disease</td>\n",
       "      <td>Biological: EV71 inactived vaccine（Vero cells）...</td>\n",
       "      <td>Inclusion Criteria:\\nHealthy volunteer aged 6-...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>6 Months to 35 Months   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>October 30, 2018</td>\n",
       "      <td>The aim of this study is to evaluate the accur...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Hydronephrosis\\nPyelonephritis\\nUrosepsis</td>\n",
       "      <td>Diagnostic Test: bedside ultrasonography\\nPati...</td>\n",
       "      <td>Inclusion Criteria:\\nSuspicion of urinary trac...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>March 12, 2019</td>\n",
       "      <td>Cystic fibrosis (CF) is an autosomal recessive...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Cystic Fibrosis</td>\n",
       "      <td>Other: expiratory muscle training\\nThe intensi...</td>\n",
       "      <td>Inclusion Criteria:\\nDiagnosed with cystic fib...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>8 Years to 18 Years   (Child, Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>November 28, 2018</td>\n",
       "      <td>This is a prospective study in which the inves...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Failed Back Surgery Syndrome</td>\n",
       "      <td>Other: interview regarding goals\\ninterview re...</td>\n",
       "      <td>Inclusion Criteria:\\nChronic pain as a result ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>November 15, 2018</td>\n",
       "      <td>This is a prospective, multi-center, post mark...</td>\n",
       "      <td>Subjects will be assessed for pain control and...</td>\n",
       "      <td>Chronic Non-malignant Pain\\nChronic Pain\\nPain...</td>\n",
       "      <td>Device: Medtronic SynchroMed™ II infusion syst...</td>\n",
       "      <td>Inclusion Criteria:\\nWilling and able to provi...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>November 29, 2018</td>\n",
       "      <td>Dental infections originating in the teeth are...</td>\n",
       "      <td>This study will comprise of a three-arm, paral...</td>\n",
       "      <td>Dentoalveolar Abscess</td>\n",
       "      <td>Drug: Odontopaste®\\nTeeth with abscess will be...</td>\n",
       "      <td>Inclusion Criteria:\\nPatients presenting with ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>3 Years to 11 Years   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>November 28, 2018</td>\n",
       "      <td>This study evaluates the short-term effects of...</td>\n",
       "      <td>Efficacy of treatment for Type 1 diabetes mell...</td>\n",
       "      <td>Diabetes Mellitus, Type 1\\nAdolescent Behavior</td>\n",
       "      <td>Behavioral: Pet Fish\\nParticipants will be pro...</td>\n",
       "      <td>Inclusion Criteria:\\nage 10-13 years\\ndiagnosi...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>10 Years to 13 Years   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>July 19, 2018</td>\n",
       "      <td>FoLoMI is a pilot study in which the investiga...</td>\n",
       "      <td>This longitudinal cohort study is aiming to fo...</td>\n",
       "      <td>Ankylosing Spondylitis</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion Criteria:\\nAnkylosing spondylitis or...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0          March 12, 2019  This study seeks to assess the effectiveness a...   \n",
       "1         October 2, 2018  Currently, there is no high-quality evidence c...   \n",
       "2           March 2, 2019  The purpose of this study is to evaluate the i...   \n",
       "3        October 30, 2018  The aim of this study is to evaluate the accur...   \n",
       "4          March 12, 2019  Cystic fibrosis (CF) is an autosomal recessive...   \n",
       "...                   ...                                                ...   \n",
       "2995    November 28, 2018  This is a prospective study in which the inves...   \n",
       "2996    November 15, 2018  This is a prospective, multi-center, post mark...   \n",
       "2997    November 29, 2018  Dental infections originating in the teeth are...   \n",
       "2998    November 28, 2018  This study evaluates the short-term effects of...   \n",
       "2999        July 19, 2018  FoLoMI is a pilot study in which the investiga...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0                                          Not Provided   \n",
       "1     Currently, there is no high-quality evidence c...   \n",
       "2     This study is a opened,randomized and controll...   \n",
       "3                                          Not Provided   \n",
       "4                                          Not Provided   \n",
       "...                                                 ...   \n",
       "2995                                       Not Provided   \n",
       "2996  Subjects will be assessed for pain control and...   \n",
       "2997  This study will comprise of a three-arm, paral...   \n",
       "2998  Efficacy of treatment for Type 1 diabetes mell...   \n",
       "2999  This longitudinal cohort study is aiming to fo...   \n",
       "\n",
       "                                              Condition  \\\n",
       "0            Chronic Lymphocytic Leukemia (CLL)\\nCancer   \n",
       "1              Empyema, Pleural\\nParapneumonic Effusion   \n",
       "2                          Hand, Foot and Mouth Disease   \n",
       "3             Hydronephrosis\\nPyelonephritis\\nUrosepsis   \n",
       "4                                       Cystic Fibrosis   \n",
       "...                                                 ...   \n",
       "2995                       Failed Back Surgery Syndrome   \n",
       "2996  Chronic Non-malignant Pain\\nChronic Pain\\nPain...   \n",
       "2997                              Dentoalveolar Abscess   \n",
       "2998     Diabetes Mellitus, Type 1\\nAdolescent Behavior   \n",
       "2999                             Ankylosing Spondylitis   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Drug: Venetoclax\\ntablet;oral\\nOther Names:\\nV...   \n",
       "1     Drug: Intrapleural Medications\\nThe IPFT group...   \n",
       "2     Biological: EV71 inactived vaccine（Vero cells）...   \n",
       "3     Diagnostic Test: bedside ultrasonography\\nPati...   \n",
       "4     Other: expiratory muscle training\\nThe intensi...   \n",
       "...                                                 ...   \n",
       "2995  Other: interview regarding goals\\ninterview re...   \n",
       "2996  Device: Medtronic SynchroMed™ II infusion syst...   \n",
       "2997  Drug: Odontopaste®\\nTeeth with abscess will be...   \n",
       "2998  Behavioral: Pet Fish\\nParticipants will be pro...   \n",
       "2999                                       Not Provided   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\nHas a confirmed diagnosis...   \n",
       "1     Inclusion Criteria:\\nAge >18 years\\nClinical p...   \n",
       "2     Inclusion Criteria:\\nHealthy volunteer aged 6-...   \n",
       "3     Inclusion Criteria:\\nSuspicion of urinary trac...   \n",
       "4     Inclusion Criteria:\\nDiagnosed with cystic fib...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nChronic pain as a result ...   \n",
       "2996  Inclusion Criteria:\\nWilling and able to provi...   \n",
       "2997  Inclusion Criteria:\\nPatients presenting with ...   \n",
       "2998  Inclusion Criteria:\\nage 10-13 years\\ndiagnosi...   \n",
       "2999  Inclusion Criteria:\\nAnkylosing spondylitis or...   \n",
       "\n",
       "                             Gender  \\\n",
       "0     Sexes Eligible for Study: All   \n",
       "1     Sexes Eligible for Study: All   \n",
       "2     Sexes Eligible for Study: All   \n",
       "3     Sexes Eligible for Study: All   \n",
       "4     Sexes Eligible for Study: All   \n",
       "...                             ...   \n",
       "2995  Sexes Eligible for Study: All   \n",
       "2996  Sexes Eligible for Study: All   \n",
       "2997  Sexes Eligible for Study: All   \n",
       "2998  Sexes Eligible for Study: All   \n",
       "2999  Sexes Eligible for Study: All   \n",
       "\n",
       "                                             Ages  \n",
       "0       18 Years and older   (Adult, Older Adult)  \n",
       "1       18 Years and older   (Adult, Older Adult)  \n",
       "2                 6 Months to 35 Months   (Child)  \n",
       "3       18 Years and older   (Adult, Older Adult)  \n",
       "4            8 Years to 18 Years   (Child, Adult)  \n",
       "...                                           ...  \n",
       "2995    18 Years and older   (Adult, Older Adult)  \n",
       "2996    18 Years and older   (Adult, Older Adult)  \n",
       "2997                3 Years to 11 Years   (Child)  \n",
       "2998               10 Years to 13 Years   (Child)  \n",
       "2999  18 Years to 65 Years   (Adult, Older Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 103,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 104,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('13th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 105,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-105-018f84fb8d1c>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT03761199?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=32&rank=39001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 106,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>November 6, 2018</td>\n",
       "      <td>The aim of the planned study will be to evalua...</td>\n",
       "      <td>In this research project will be performed 15 ...</td>\n",
       "      <td>Quality of Life\\nAtopic Dermatitis</td>\n",
       "      <td>Other: whole body cryostimulation\\nIn this res...</td>\n",
       "      <td>Inclusion Criteria:\\ninformed consent for rese...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 45 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>November 3, 2018</td>\n",
       "      <td>This research study seeks to develop and evalu...</td>\n",
       "      <td>This research study seeks to develop and evalu...</td>\n",
       "      <td>Prostate Cancer</td>\n",
       "      <td>Other: Mobile Health App\\nmobile health app ai...</td>\n",
       "      <td>Inclusion Criteria:\\nPhase 1\\nAll recruited pa...</td>\n",
       "      <td>Sexes Eligible for Study: Male</td>\n",
       "      <td>40 Years to 75 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>November 26, 2017</td>\n",
       "      <td>Women generally report discomfort and a delay ...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Bowel Dysfunction</td>\n",
       "      <td>Other: Paula exercises\\nstructured exercises a...</td>\n",
       "      <td>Inclusion Criteria:\\nElective, singleton, term...</td>\n",
       "      <td>Sexes Eligible for Study: Female</td>\n",
       "      <td>18 Years to 45 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>November 29, 2018</td>\n",
       "      <td>This is a prospective, quasi-experimental, his...</td>\n",
       "      <td>Current antimicrobial stewardship guidelines r...</td>\n",
       "      <td>Behavior Change\\nBacterial Infections</td>\n",
       "      <td>Behavioral: Professional Behavior Change Inter...</td>\n",
       "      <td>Inclusion Criteria:\\nNineteen years of age or ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>19 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>November 26, 2018</td>\n",
       "      <td>This is a pilot study to investigate if the ex...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Healthy Volunteers</td>\n",
       "      <td>Drug: carbidopa-levodopa\\nsingle dose of WD-16...</td>\n",
       "      <td>Inclusion Criteria:\\nHealthy adult male or fem...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 55 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>August 25, 2018</td>\n",
       "      <td>The Retention of pancreatic stents for prophyl...</td>\n",
       "      <td>Pancreatitis is the most common complication o...</td>\n",
       "      <td>Pancreatitis\\nStent Dislodgement</td>\n",
       "      <td>Diagnostic Test: Abdominal ultrasound\\nAbdomin...</td>\n",
       "      <td>Inclusion Criteria:\\npatient after pancreatic ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 79 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>August 18, 2018</td>\n",
       "      <td>investigators aim to compare between anaesthet...</td>\n",
       "      <td>regarding patient registry; a prior G power an...</td>\n",
       "      <td>Hematological Malignancy (Leukemia- Lymphoma)</td>\n",
       "      <td>Drug: ketamine-ketorolac\\nThe patient will rec...</td>\n",
       "      <td>Inclusion Criteria:\\nAmerican Society of Anest...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>2 Years to 7 Years   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>August 21, 2018</td>\n",
       "      <td>This study will evaluate the effectiveness of ...</td>\n",
       "      <td>Since the 1980's, electrical stimulation has b...</td>\n",
       "      <td>Dysphagia, Oropharyngeal\\nStroke, Ischemic</td>\n",
       "      <td>Other: Functional Electrical Stimulation\\nFunc...</td>\n",
       "      <td>Inclusion Criteria:\\nStroke - ischemic type;\\n...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>40 Years to 70 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>August 23, 2018</td>\n",
       "      <td>This Canadian, multi-centre, prospective, obse...</td>\n",
       "      <td>The study will assess quality of life using th...</td>\n",
       "      <td>Chemotherapy-Induced Nausea and Vomiting</td>\n",
       "      <td>Drug: 300mg netupitant/0.5mg palonosetron hydr...</td>\n",
       "      <td>Inclusion Criteria:\\nSubjects must satisfy the...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>August 6, 2018</td>\n",
       "      <td>The objective of this research is to test a pa...</td>\n",
       "      <td>Hemiparesis and other impairments are a freque...</td>\n",
       "      <td>Stroke</td>\n",
       "      <td>Device: wearing the iStride device\\nThe device...</td>\n",
       "      <td>Inclusion Criteria:\\nage 21-80\\none or more ce...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>21 Years to 80 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0        November 6, 2018  The aim of the planned study will be to evalua...   \n",
       "1        November 3, 2018  This research study seeks to develop and evalu...   \n",
       "2       November 26, 2017  Women generally report discomfort and a delay ...   \n",
       "3       November 29, 2018  This is a prospective, quasi-experimental, his...   \n",
       "4       November 26, 2018  This is a pilot study to investigate if the ex...   \n",
       "...                   ...                                                ...   \n",
       "2995      August 25, 2018  The Retention of pancreatic stents for prophyl...   \n",
       "2996      August 18, 2018  investigators aim to compare between anaesthet...   \n",
       "2997      August 21, 2018  This study will evaluate the effectiveness of ...   \n",
       "2998      August 23, 2018  This Canadian, multi-centre, prospective, obse...   \n",
       "2999       August 6, 2018  The objective of this research is to test a pa...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     In this research project will be performed 15 ...   \n",
       "1     This research study seeks to develop and evalu...   \n",
       "2                                          Not Provided   \n",
       "3     Current antimicrobial stewardship guidelines r...   \n",
       "4                                          Not Provided   \n",
       "...                                                 ...   \n",
       "2995  Pancreatitis is the most common complication o...   \n",
       "2996  regarding patient registry; a prior G power an...   \n",
       "2997  Since the 1980's, electrical stimulation has b...   \n",
       "2998  The study will assess quality of life using th...   \n",
       "2999  Hemiparesis and other impairments are a freque...   \n",
       "\n",
       "                                          Condition  \\\n",
       "0                Quality of Life\\nAtopic Dermatitis   \n",
       "1                                   Prostate Cancer   \n",
       "2                                 Bowel Dysfunction   \n",
       "3             Behavior Change\\nBacterial Infections   \n",
       "4                                Healthy Volunteers   \n",
       "...                                             ...   \n",
       "2995               Pancreatitis\\nStent Dislodgement   \n",
       "2996  Hematological Malignancy (Leukemia- Lymphoma)   \n",
       "2997     Dysphagia, Oropharyngeal\\nStroke, Ischemic   \n",
       "2998       Chemotherapy-Induced Nausea and Vomiting   \n",
       "2999                                         Stroke   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Other: whole body cryostimulation\\nIn this res...   \n",
       "1     Other: Mobile Health App\\nmobile health app ai...   \n",
       "2     Other: Paula exercises\\nstructured exercises a...   \n",
       "3     Behavioral: Professional Behavior Change Inter...   \n",
       "4     Drug: carbidopa-levodopa\\nsingle dose of WD-16...   \n",
       "...                                                 ...   \n",
       "2995  Diagnostic Test: Abdominal ultrasound\\nAbdomin...   \n",
       "2996  Drug: ketamine-ketorolac\\nThe patient will rec...   \n",
       "2997  Other: Functional Electrical Stimulation\\nFunc...   \n",
       "2998  Drug: 300mg netupitant/0.5mg palonosetron hydr...   \n",
       "2999  Device: wearing the iStride device\\nThe device...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\ninformed consent for rese...   \n",
       "1     Inclusion Criteria:\\nPhase 1\\nAll recruited pa...   \n",
       "2     Inclusion Criteria:\\nElective, singleton, term...   \n",
       "3     Inclusion Criteria:\\nNineteen years of age or ...   \n",
       "4     Inclusion Criteria:\\nHealthy adult male or fem...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\npatient after pancreatic ...   \n",
       "2996  Inclusion Criteria:\\nAmerican Society of Anest...   \n",
       "2997  Inclusion Criteria:\\nStroke - ischemic type;\\n...   \n",
       "2998  Inclusion Criteria:\\nSubjects must satisfy the...   \n",
       "2999  Inclusion Criteria:\\nage 21-80\\none or more ce...   \n",
       "\n",
       "                                Gender  \\\n",
       "0        Sexes Eligible for Study: All   \n",
       "1       Sexes Eligible for Study: Male   \n",
       "2     Sexes Eligible for Study: Female   \n",
       "3        Sexes Eligible for Study: All   \n",
       "4        Sexes Eligible for Study: All   \n",
       "...                                ...   \n",
       "2995     Sexes Eligible for Study: All   \n",
       "2996     Sexes Eligible for Study: All   \n",
       "2997     Sexes Eligible for Study: All   \n",
       "2998     Sexes Eligible for Study: All   \n",
       "2999     Sexes Eligible for Study: All   \n",
       "\n",
       "                                             Ages  \n",
       "0                  18 Years to 45 Years   (Adult)  \n",
       "1     40 Years to 75 Years   (Adult, Older Adult)  \n",
       "2                  18 Years to 45 Years   (Adult)  \n",
       "3       19 Years and older   (Adult, Older Adult)  \n",
       "4                  18 Years to 55 Years   (Adult)  \n",
       "...                                           ...  \n",
       "2995  18 Years to 79 Years   (Adult, Older Adult)  \n",
       "2996                 2 Years to 7 Years   (Child)  \n",
       "2997  40 Years to 70 Years   (Adult, Older Adult)  \n",
       "2998    18 Years and older   (Adult, Older Adult)  \n",
       "2999  21 Years to 80 Years   (Adult, Older Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 106,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 107,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('14th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 108,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-108-3e9f4de67b63>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT03649191?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=2&rank=42001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 109,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>July 31, 2018</td>\n",
       "      <td>1.0 SUMMARY Most Canadian nursing home (NH) re...</td>\n",
       "      <td>2.0 SPECIFIC AIMS\\n2.1. Aim 1. Improve interve...</td>\n",
       "      <td>Nursing Homes\\nAged\\nFrail Elderly Syndrome\\nD...</td>\n",
       "      <td>Other: The BABEL Approach to Advance Care Plan...</td>\n",
       "      <td>Inclusion Criteria:\\nResidents of participatin...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>65 Years and older   (Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>August 24, 2018</td>\n",
       "      <td>This study will evaluate bioavailability and f...</td>\n",
       "      <td>This study will be a 2-part, open-label, singl...</td>\n",
       "      <td>Neurofibromatosis Type 1 (NF1)-Related Plexifo...</td>\n",
       "      <td>Drug: Treatment A\\nDuring Part 1 of the study,...</td>\n",
       "      <td>Inclusion Criteria\\nProvision of signed and da...</td>\n",
       "      <td>Sexes Eligible for Study: Male\\nGender Based E...</td>\n",
       "      <td>18 Years to 45 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>August 7, 2018</td>\n",
       "      <td>This study will be evaluating the safety and e...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Focal Segmental Glomerulosclerosis</td>\n",
       "      <td>Drug: Propagermanium\\nImmediate release capsul...</td>\n",
       "      <td>Inclusion Criteria:\\nAged 18 to 80 (inclusive)...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 80 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>July 19, 2018</td>\n",
       "      <td>Percutaneous sclerotherapy is currently a wide...</td>\n",
       "      <td>Twenty-five patients with symptomatic liver he...</td>\n",
       "      <td>Hemangioma Liver</td>\n",
       "      <td>Procedure: sclerotherapy arm\\nThe liver mass w...</td>\n",
       "      <td>Inclusion Criteria:\\npatients with symptomatic...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 80 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>August 23, 2018</td>\n",
       "      <td>The purpose of this study is to determine the ...</td>\n",
       "      <td>The study aims to enroll (203) participants, w...</td>\n",
       "      <td>Attention Deficit Hyperactivity Disorder</td>\n",
       "      <td>Device: AKL-T01\\nAKL-T01 multitasking digital ...</td>\n",
       "      <td>Inclusion Criteria:\\nMale or female, ages 8 ye...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>8 Years to 14 Years   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>May 8, 2018</td>\n",
       "      <td>DaTscanTM Ioflupane I123, a radiopharmaceutica...</td>\n",
       "      <td>Background: Idiopathic Parkinson's disease (PD...</td>\n",
       "      <td>Parkinson Disease</td>\n",
       "      <td>Drug: Ioflupane I 123\\nIoflupane I 123 will be...</td>\n",
       "      <td>Inclusion Criteria:\\nBetween the ages of 40-75...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>40 Years to 75 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>April 26, 2018</td>\n",
       "      <td>This study is evaluating how to encourage teen...</td>\n",
       "      <td>Specific Aim: To develop and pilot test a modu...</td>\n",
       "      <td>Type1diabetes\\nCardiovascular Risk Factor</td>\n",
       "      <td>Behavioral: Heart healthy intervention\\nInterv...</td>\n",
       "      <td>Inclusion Criteria:\\nTeens ages 14-19 years ol...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>14 Years to 19 Years   (Child, Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>April 13, 2018</td>\n",
       "      <td>This is a single-center, 2-part, non-randomize...</td>\n",
       "      <td>Part 1:\\nThe primary objective of Part 1 of th...</td>\n",
       "      <td>Drug-drug Interaction\\nAutoimmune Diseases\\nFi...</td>\n",
       "      <td>Drug: Belumosudil\\nDevelopment candidate\\nOthe...</td>\n",
       "      <td>Inclusion Criteria:\\nHealthy males\\nAge 18 to ...</td>\n",
       "      <td>Sexes Eligible for Study: Male</td>\n",
       "      <td>18 Years to 55 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>December 7, 2017</td>\n",
       "      <td>The study evaluates analgesic, antiinflammator...</td>\n",
       "      <td>Comarum palustre have been shown to exert anal...</td>\n",
       "      <td>Osteoarthritis\\nDiabetes Mellitus</td>\n",
       "      <td>Drug: Comarum Palustre\\nComarum Palustre table...</td>\n",
       "      <td>Inclusion Criteria:\\nosteoarthritis of the kne...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>40 Years to 75 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>May 9, 2018</td>\n",
       "      <td>To evaluate the safety and tolerability of sin...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Healthy Participants</td>\n",
       "      <td>Drug: RO7020531\\n4 SAD Cohorts with individual...</td>\n",
       "      <td>Inclusion Criteria\\nChinese healthy male and f...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 60 Years   (Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0           July 31, 2018  1.0 SUMMARY Most Canadian nursing home (NH) re...   \n",
       "1         August 24, 2018  This study will evaluate bioavailability and f...   \n",
       "2          August 7, 2018  This study will be evaluating the safety and e...   \n",
       "3           July 19, 2018  Percutaneous sclerotherapy is currently a wide...   \n",
       "4         August 23, 2018  The purpose of this study is to determine the ...   \n",
       "...                   ...                                                ...   \n",
       "2995          May 8, 2018  DaTscanTM Ioflupane I123, a radiopharmaceutica...   \n",
       "2996       April 26, 2018  This study is evaluating how to encourage teen...   \n",
       "2997       April 13, 2018  This is a single-center, 2-part, non-randomize...   \n",
       "2998     December 7, 2017  The study evaluates analgesic, antiinflammator...   \n",
       "2999          May 9, 2018  To evaluate the safety and tolerability of sin...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     2.0 SPECIFIC AIMS\\n2.1. Aim 1. Improve interve...   \n",
       "1     This study will be a 2-part, open-label, singl...   \n",
       "2                                          Not Provided   \n",
       "3     Twenty-five patients with symptomatic liver he...   \n",
       "4     The study aims to enroll (203) participants, w...   \n",
       "...                                                 ...   \n",
       "2995  Background: Idiopathic Parkinson's disease (PD...   \n",
       "2996  Specific Aim: To develop and pilot test a modu...   \n",
       "2997  Part 1:\\nThe primary objective of Part 1 of th...   \n",
       "2998  Comarum palustre have been shown to exert anal...   \n",
       "2999                                       Not Provided   \n",
       "\n",
       "                                              Condition  \\\n",
       "0     Nursing Homes\\nAged\\nFrail Elderly Syndrome\\nD...   \n",
       "1     Neurofibromatosis Type 1 (NF1)-Related Plexifo...   \n",
       "2                    Focal Segmental Glomerulosclerosis   \n",
       "3                                      Hemangioma Liver   \n",
       "4              Attention Deficit Hyperactivity Disorder   \n",
       "...                                                 ...   \n",
       "2995                                  Parkinson Disease   \n",
       "2996          Type1diabetes\\nCardiovascular Risk Factor   \n",
       "2997  Drug-drug Interaction\\nAutoimmune Diseases\\nFi...   \n",
       "2998                  Osteoarthritis\\nDiabetes Mellitus   \n",
       "2999                               Healthy Participants   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Other: The BABEL Approach to Advance Care Plan...   \n",
       "1     Drug: Treatment A\\nDuring Part 1 of the study,...   \n",
       "2     Drug: Propagermanium\\nImmediate release capsul...   \n",
       "3     Procedure: sclerotherapy arm\\nThe liver mass w...   \n",
       "4     Device: AKL-T01\\nAKL-T01 multitasking digital ...   \n",
       "...                                                 ...   \n",
       "2995  Drug: Ioflupane I 123\\nIoflupane I 123 will be...   \n",
       "2996  Behavioral: Heart healthy intervention\\nInterv...   \n",
       "2997  Drug: Belumosudil\\nDevelopment candidate\\nOthe...   \n",
       "2998  Drug: Comarum Palustre\\nComarum Palustre table...   \n",
       "2999  Drug: RO7020531\\n4 SAD Cohorts with individual...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\nResidents of participatin...   \n",
       "1     Inclusion Criteria\\nProvision of signed and da...   \n",
       "2     Inclusion Criteria:\\nAged 18 to 80 (inclusive)...   \n",
       "3     Inclusion Criteria:\\npatients with symptomatic...   \n",
       "4     Inclusion Criteria:\\nMale or female, ages 8 ye...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nBetween the ages of 40-75...   \n",
       "2996  Inclusion Criteria:\\nTeens ages 14-19 years ol...   \n",
       "2997  Inclusion Criteria:\\nHealthy males\\nAge 18 to ...   \n",
       "2998  Inclusion Criteria:\\nosteoarthritis of the kne...   \n",
       "2999  Inclusion Criteria\\nChinese healthy male and f...   \n",
       "\n",
       "                                                 Gender  \\\n",
       "0                         Sexes Eligible for Study: All   \n",
       "1     Sexes Eligible for Study: Male\\nGender Based E...   \n",
       "2                         Sexes Eligible for Study: All   \n",
       "3                         Sexes Eligible for Study: All   \n",
       "4                         Sexes Eligible for Study: All   \n",
       "...                                                 ...   \n",
       "2995                      Sexes Eligible for Study: All   \n",
       "2996                      Sexes Eligible for Study: All   \n",
       "2997                     Sexes Eligible for Study: Male   \n",
       "2998                      Sexes Eligible for Study: All   \n",
       "2999                      Sexes Eligible for Study: All   \n",
       "\n",
       "                                             Ages  \n",
       "0              65 Years and older   (Older Adult)  \n",
       "1                  18 Years to 45 Years   (Adult)  \n",
       "2     18 Years to 80 Years   (Adult, Older Adult)  \n",
       "3     18 Years to 80 Years   (Adult, Older Adult)  \n",
       "4                   8 Years to 14 Years   (Child)  \n",
       "...                                           ...  \n",
       "2995  40 Years to 75 Years   (Adult, Older Adult)  \n",
       "2996        14 Years to 19 Years   (Child, Adult)  \n",
       "2997               18 Years to 55 Years   (Adult)  \n",
       "2998  40 Years to 75 Years   (Adult, Older Adult)  \n",
       "2999               18 Years to 60 Years   (Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 109,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 110,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('15th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 111,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-111-53e1d151e249>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT03530800?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=2&rank=45001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 112,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>May 8, 2018</td>\n",
       "      <td>The goal of the proposed study is to evaluate ...</td>\n",
       "      <td>Pathological hair-pulling, trichotillomania, h...</td>\n",
       "      <td>Trichotillomania\\nSkin-Picking</td>\n",
       "      <td>Drug: Dronabinol\\nDronabinol for 10 weeks (5mg...</td>\n",
       "      <td>Inclusion Criteria:\\ncurrent DSM-5 trichotillo...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 75 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>May 8, 2018</td>\n",
       "      <td>This is a single arm, phase II study to evalua...</td>\n",
       "      <td>This is a multi-center, single arm, phase II s...</td>\n",
       "      <td>HER2-positive Breast Cancer\\nBreast Cancer\\nBr...</td>\n",
       "      <td>Drug: Palbociclib\\nCompare progression free su...</td>\n",
       "      <td>Inclusion Criteria:\\nBe informed of the invest...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>April 18, 2018</td>\n",
       "      <td>Compare the effects of pharmacological and non...</td>\n",
       "      <td>Compare the effects of 0.5 mg/kg oral midazola...</td>\n",
       "      <td>Preoperative Anxiety</td>\n",
       "      <td>Other: oral midazolam\\n0.5 mg/kg oral midazola...</td>\n",
       "      <td>Inclusion Criteria:\\nASA 1-2\\nElective surgery...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>5 Years to 8 Years   (Child)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>April 11, 2018</td>\n",
       "      <td>This clinical study has been launched to compa...</td>\n",
       "      <td>Subjects will be optical screened at baseline ...</td>\n",
       "      <td>Type1diabetes</td>\n",
       "      <td>Device: WM3.4NR\\nThe investigational medical d...</td>\n",
       "      <td>Inclusion Criteria:\\nMale and female subjects ...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>April 24, 2018</td>\n",
       "      <td>The purpose of this balanced-placebo design st...</td>\n",
       "      <td>This is a 2 X 2 within subjects, balanced plac...</td>\n",
       "      <td>Expectancy Versus Pharmacotherapy Effect of Ad...</td>\n",
       "      <td>Drug: Adderall\\nParticipants will be administe...</td>\n",
       "      <td>Inclusion Criteria:\\nAge (18-24)\\nCollege stud...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 24 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2995</th>\n",
       "      <td>January 8, 2018</td>\n",
       "      <td>The proposed initial trial is a Phase I, open ...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Solid Tumor</td>\n",
       "      <td>Drug: MG005\\nPhase I:\\nEligible patients will ...</td>\n",
       "      <td>Inclusion Criteria:\\nPatient who is able to un...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>20 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2996</th>\n",
       "      <td>January 14, 2018</td>\n",
       "      <td>Activation of mast cells in the immune system ...</td>\n",
       "      <td>The objective of this study is to assess wheth...</td>\n",
       "      <td>Asthma\\nMastocytosis\\nMast Cell Activation Syn...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion Criteria:\\nAny patients with the abo...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2997</th>\n",
       "      <td>January 16, 2018</td>\n",
       "      <td>The purposes of this study are to evaluate the...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Healthy</td>\n",
       "      <td>Drug: Lasmiditan\\nAdministered orally.\\nOther ...</td>\n",
       "      <td>Inclusion Criteria:\\nAre overtly healthy males...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>65 Years and older   (Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2998</th>\n",
       "      <td>January 15, 2018</td>\n",
       "      <td>The goal of this clinical trial is to assess t...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Leber Hereditary Optic Neuropathy</td>\n",
       "      <td>Genetic: GS010\\nLenadogene nolparvovec Intravi...</td>\n",
       "      <td>Inclusion Criteria\\nSubject was treated with G...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>15 Years and older   (Child, Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2999</th>\n",
       "      <td>January 14, 2018</td>\n",
       "      <td>Phase 3 Study to Evaluate the Efficacy and Saf...</td>\n",
       "      <td>A Multicentre, Randomized, Double-Blind, Place...</td>\n",
       "      <td>Asthma</td>\n",
       "      <td>Biological: Tezepelumab\\nTezepelumab subcutane...</td>\n",
       "      <td>Inclusion Criteria:\\nSubjects must have receiv...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 80 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>3000 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0             May 8, 2018  The goal of the proposed study is to evaluate ...   \n",
       "1             May 8, 2018  This is a single arm, phase II study to evalua...   \n",
       "2          April 18, 2018  Compare the effects of pharmacological and non...   \n",
       "3          April 11, 2018  This clinical study has been launched to compa...   \n",
       "4          April 24, 2018  The purpose of this balanced-placebo design st...   \n",
       "...                   ...                                                ...   \n",
       "2995      January 8, 2018  The proposed initial trial is a Phase I, open ...   \n",
       "2996     January 14, 2018  Activation of mast cells in the immune system ...   \n",
       "2997     January 16, 2018  The purposes of this study are to evaluate the...   \n",
       "2998     January 15, 2018  The goal of this clinical trial is to assess t...   \n",
       "2999     January 14, 2018  Phase 3 Study to Evaluate the Efficacy and Saf...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0     Pathological hair-pulling, trichotillomania, h...   \n",
       "1     This is a multi-center, single arm, phase II s...   \n",
       "2     Compare the effects of 0.5 mg/kg oral midazola...   \n",
       "3     Subjects will be optical screened at baseline ...   \n",
       "4     This is a 2 X 2 within subjects, balanced plac...   \n",
       "...                                                 ...   \n",
       "2995                                       Not Provided   \n",
       "2996  The objective of this study is to assess wheth...   \n",
       "2997                                       Not Provided   \n",
       "2998                                       Not Provided   \n",
       "2999  A Multicentre, Randomized, Double-Blind, Place...   \n",
       "\n",
       "                                              Condition  \\\n",
       "0                        Trichotillomania\\nSkin-Picking   \n",
       "1     HER2-positive Breast Cancer\\nBreast Cancer\\nBr...   \n",
       "2                                  Preoperative Anxiety   \n",
       "3                                         Type1diabetes   \n",
       "4     Expectancy Versus Pharmacotherapy Effect of Ad...   \n",
       "...                                                 ...   \n",
       "2995                                        Solid Tumor   \n",
       "2996  Asthma\\nMastocytosis\\nMast Cell Activation Syn...   \n",
       "2997                                            Healthy   \n",
       "2998                  Leber Hereditary Optic Neuropathy   \n",
       "2999                                             Asthma   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Drug: Dronabinol\\nDronabinol for 10 weeks (5mg...   \n",
       "1     Drug: Palbociclib\\nCompare progression free su...   \n",
       "2     Other: oral midazolam\\n0.5 mg/kg oral midazola...   \n",
       "3     Device: WM3.4NR\\nThe investigational medical d...   \n",
       "4     Drug: Adderall\\nParticipants will be administe...   \n",
       "...                                                 ...   \n",
       "2995  Drug: MG005\\nPhase I:\\nEligible patients will ...   \n",
       "2996                                       Not Provided   \n",
       "2997  Drug: Lasmiditan\\nAdministered orally.\\nOther ...   \n",
       "2998  Genetic: GS010\\nLenadogene nolparvovec Intravi...   \n",
       "2999  Biological: Tezepelumab\\nTezepelumab subcutane...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\ncurrent DSM-5 trichotillo...   \n",
       "1     Inclusion Criteria:\\nBe informed of the invest...   \n",
       "2     Inclusion Criteria:\\nASA 1-2\\nElective surgery...   \n",
       "3     Inclusion Criteria:\\nMale and female subjects ...   \n",
       "4     Inclusion Criteria:\\nAge (18-24)\\nCollege stud...   \n",
       "...                                                 ...   \n",
       "2995  Inclusion Criteria:\\nPatient who is able to un...   \n",
       "2996  Inclusion Criteria:\\nAny patients with the abo...   \n",
       "2997  Inclusion Criteria:\\nAre overtly healthy males...   \n",
       "2998  Inclusion Criteria\\nSubject was treated with G...   \n",
       "2999  Inclusion Criteria:\\nSubjects must have receiv...   \n",
       "\n",
       "                             Gender  \\\n",
       "0     Sexes Eligible for Study: All   \n",
       "1     Sexes Eligible for Study: All   \n",
       "2     Sexes Eligible for Study: All   \n",
       "3     Sexes Eligible for Study: All   \n",
       "4     Sexes Eligible for Study: All   \n",
       "...                             ...   \n",
       "2995  Sexes Eligible for Study: All   \n",
       "2996  Sexes Eligible for Study: All   \n",
       "2997  Sexes Eligible for Study: All   \n",
       "2998  Sexes Eligible for Study: All   \n",
       "2999  Sexes Eligible for Study: All   \n",
       "\n",
       "                                                  Ages  \n",
       "0          18 Years to 75 Years   (Adult, Older Adult)  \n",
       "1            18 Years and older   (Adult, Older Adult)  \n",
       "2                         5 Years to 8 Years   (Child)  \n",
       "3            18 Years and older   (Adult, Older Adult)  \n",
       "4                       18 Years to 24 Years   (Adult)  \n",
       "...                                                ...  \n",
       "2995         20 Years and older   (Adult, Older Adult)  \n",
       "2996         18 Years and older   (Adult, Older Adult)  \n",
       "2997                65 Years and older   (Older Adult)  \n",
       "2998  15 Years and older   (Child, Adult, Older Adult)  \n",
       "2999       18 Years to 80 Years   (Adult, Older Adult)  \n",
       "\n",
       "[3000 rows x 8 columns]"
      ]
     },
     "execution_count": 112,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 113,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('16th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 114,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-114-c49d9160b496>:3: DeprecationWarning: executable_path has been deprecated, please pass in a Service object\n",
      "  driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n"
     ]
    }
   ],
   "source": [
    "# ONCE IT CRASHES\n",
    "\n",
    "driver = webdriver.Chrome('/Users/andyl/Downloads/chromedriver')\n",
    "\n",
    "# Resume from where it stops driver.get(\"the link where they stop\")\n",
    "driver.get(\"https://clinicaltrials.gov/ct2/show/record/NCT03406039?recrs=e&strd_s=01%2F01%2F2018&strd_e=04%2F30%2F2023&draw=2&rank=48001\")\n",
    "data= {}\n",
    "\n",
    "# tracking information table\n",
    "first_submitted_dates = []\n",
    "\n",
    "# descriptive information table\n",
    "brief_summaries = []\n",
    "detailed_descriptions = []\n",
    "conditions = []\n",
    "interventions = []\n",
    "\n",
    "# recruitment information table\n",
    "eligibility_criterias = []\n",
    "genders = []\n",
    "ages = []\n",
    "\n",
    "\n",
    "for i in range(0,3000):\n",
    "\n",
    "    first_submitted_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'First Submitted Date')]\"))\n",
    "    )\n",
    "\n",
    "    first_submitted_date = first_submitted_text.find_element(By.XPATH, \"./following-sibling::td\") # getting td element within the header\n",
    "    first_submitted_dates.append(first_submitted_date.text) # adding the text to the list\n",
    "\n",
    "     ## DESCRIPTIVE INFORMATION TABLE\n",
    "         # scraping the brief summary\n",
    "    brief_summary_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Brief Summary')]\"))\n",
    "    )\n",
    "\n",
    "    brief_summary = brief_summary_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    brief_summaries.append(brief_summary.text) #adding the text to the list\n",
    "\n",
    "    # scraping the detailed description\n",
    "    detailed_description_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Detailed Description')]\"))\n",
    "    )\n",
    "\n",
    "    detailed_description = detailed_description_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    detailed_descriptions.append(detailed_description.text) #adding the text to the list\n",
    "\n",
    "        # scraping the condition\n",
    "    condition_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Condition')]\"))\n",
    "    )\n",
    "\n",
    "    condition = condition_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    conditions.append(condition.text) #adding the text to the list\n",
    "\n",
    "        # scraping the intervention\n",
    "    intervention_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Intervention')]\"))\n",
    "    )\n",
    "\n",
    "    intervention = intervention_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    interventions.append(intervention.text) #adding the text to the list\n",
    "\n",
    "    ## RECRUITMENT INFORMATION TABLE\n",
    "\n",
    "    # scraping the eligibility criteria\n",
    "    eligibility_criteria_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Eligibility Criteria')]\"))\n",
    "    )\n",
    "\n",
    "    eligibility_criteria = eligibility_criteria_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    eligibility_criterias.append(eligibility_criteria.text) #adding the text to the list\n",
    "\n",
    "    # scraping the gender\n",
    "    gender_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Sex/Gender')]\"))\n",
    "    )\n",
    "\n",
    "    gender = gender_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    genders.append(gender.text) #adding the text to the list\n",
    "\n",
    "    # scraping the age\n",
    "    age_text = WebDriverWait(driver,3).until(\n",
    "        EC.visibility_of_element_located((By.XPATH, \".//th[contains(text(), 'Ages')]\"))\n",
    "    )\n",
    "\n",
    "    age = age_text.find_element(By.XPATH, \"./following-sibling::td\") #getting td element within the header\n",
    "    ages.append(age.text)\n",
    "    \n",
    "    try:\n",
    "        next_study = driver.find_element(By.XPATH, '//*[@class=\"tr-next-link\"]')\n",
    "        next_study.click()\n",
    "        \n",
    "    except:\n",
    "        break\n",
    "\n",
    "# collating all the lists of information into a data dictionary\n",
    "\n",
    "## TRACKING INFORMATION TABLE\n",
    "data['First Submitted Date'] = first_submitted_dates\n",
    "\n",
    "## DESCRIPTIVE INFORMATION TABLE\n",
    "data['Brief Summary'] = brief_summaries\n",
    "data['Detailed Description'] = detailed_descriptions\n",
    "data['Condition'] = conditions\n",
    "data['Intervention'] = interventions\n",
    "\n",
    "## RECRUITMENT INFORMATION TABLE\n",
    "data['Eligibility Criteria'] = eligibility_criterias\n",
    "data['Gender'] = genders\n",
    "data['Ages'] = ages"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 115,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>First Submitted Date</th>\n",
       "      <th>Brief Summary</th>\n",
       "      <th>Detailed Description</th>\n",
       "      <th>Condition</th>\n",
       "      <th>Intervention</th>\n",
       "      <th>Eligibility Criteria</th>\n",
       "      <th>Gender</th>\n",
       "      <th>Ages</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>January 5, 2018</td>\n",
       "      <td>Considering the high comorbidity between alcoh...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Alcohol Use Disorder</td>\n",
       "      <td>Behavioral: Integrated Online CBT and MI\\nThe ...</td>\n",
       "      <td>Inclusion Criteria:\\nIndividuals between 18 an...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 35 Years   (Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>January 15, 2018</td>\n",
       "      <td>Primary Objective:\\nTo evaluate the efficacy o...</td>\n",
       "      <td>The estimated average study duration is 29 wee...</td>\n",
       "      <td>Type I Diabetes Mellitus</td>\n",
       "      <td>Drug: INSULIN GLARGINE (U300)\\nPharmaceutical ...</td>\n",
       "      <td>Inclusion criteria :\\nMale or Female.\\nAge ≥ 1...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>December 18, 2017</td>\n",
       "      <td>In dentistry, Peer Assessment Rating (PAR) is ...</td>\n",
       "      <td>CS 3600 intra oral scanner is already licenced...</td>\n",
       "      <td>Malocclusion</td>\n",
       "      <td>Device: Carestream 3600 intra oral scan\\nCares...</td>\n",
       "      <td>Inclusion Criteria:\\nPatients undergoing ortho...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>11 Years to 50 Years   (Child, Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>January 12, 2018</td>\n",
       "      <td>The primary objective of this study is to char...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>HIV-1 Infection</td>\n",
       "      <td>Drug: B/F/TAF\\n50/200/25 mg FDC tablet adminis...</td>\n",
       "      <td>Key Inclusion Criteria:\\nCurrently receiving a...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>65 Years and older   (Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>January 12, 2018</td>\n",
       "      <td>The aim of this study is to evaluate whether a...</td>\n",
       "      <td>The aim of this study is to evaluate whether a...</td>\n",
       "      <td>Perianal Fistula\\nFissure in Ano\\nHemorrhoids</td>\n",
       "      <td>Drug: Placebo 40 mL Saline 0.9%\\nInjection of ...</td>\n",
       "      <td>Inclusion Criteria:\\nPatients with surgical in...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years and older   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2382</th>\n",
       "      <td>March 6, 2012</td>\n",
       "      <td>The purpose of this study is to Assess Dose-Re...</td>\n",
       "      <td>Step 1\\nPrimary objective\\nInvestigate the opt...</td>\n",
       "      <td>Anthrax</td>\n",
       "      <td>Biological: GC1109 or Placebo of GC1109\\nStep1...</td>\n",
       "      <td>Step1\\nInclusion Criteria:\\nHealthy 18 to 55 y...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>19 Years to 65 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2383</th>\n",
       "      <td>February 28, 2012</td>\n",
       "      <td>The purpose of this study is to evaluate the c...</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Active, Symptomatic Blepharitis</td>\n",
       "      <td>Drug: ISV-305\\nDexamethasone in DuraSite® 2 tw...</td>\n",
       "      <td>Inclusion Criteria:\\nAre at least 1 years of a...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>1 Year and older   (Child, Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2384</th>\n",
       "      <td>September 27, 2011</td>\n",
       "      <td>The principal goal of this research project is...</td>\n",
       "      <td>The principal goal of this research project is...</td>\n",
       "      <td>HIV Infection\\nHepatitis C</td>\n",
       "      <td>Not Provided</td>\n",
       "      <td>Inclusion Criteria:\\nCurrent or prior drug use...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 90 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2385</th>\n",
       "      <td>June 23, 2011</td>\n",
       "      <td>WRITE study aim at identifying the effectivene...</td>\n",
       "      <td>The investigators are going to compare weight-...</td>\n",
       "      <td>Chronic Hepatitis</td>\n",
       "      <td>Drug: Peginterferon alpha-2a + Ribavirin\\nAdmi...</td>\n",
       "      <td>Inclusion Criteria:\\nPatients with chronic hep...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>18 Years to 70 Years   (Adult, Older Adult)</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2386</th>\n",
       "      <td>April 14, 2011</td>\n",
       "      <td>This study has the objective to demonstrate th...</td>\n",
       "      <td>In an effort to shorten hospital stay and to f...</td>\n",
       "      <td>Poisoning by Scorpion Sting</td>\n",
       "      <td>Biological: Equine F(ab')2 antivenom\\nA single...</td>\n",
       "      <td>Inclusion Criteria:\\nMale or female 6 months t...</td>\n",
       "      <td>Sexes Eligible for Study: All</td>\n",
       "      <td>6 Months to 15 Years   (Child)</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2387 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     First Submitted Date                                      Brief Summary  \\\n",
       "0         January 5, 2018  Considering the high comorbidity between alcoh...   \n",
       "1        January 15, 2018  Primary Objective:\\nTo evaluate the efficacy o...   \n",
       "2       December 18, 2017  In dentistry, Peer Assessment Rating (PAR) is ...   \n",
       "3        January 12, 2018  The primary objective of this study is to char...   \n",
       "4        January 12, 2018  The aim of this study is to evaluate whether a...   \n",
       "...                   ...                                                ...   \n",
       "2382        March 6, 2012  The purpose of this study is to Assess Dose-Re...   \n",
       "2383    February 28, 2012  The purpose of this study is to evaluate the c...   \n",
       "2384   September 27, 2011  The principal goal of this research project is...   \n",
       "2385        June 23, 2011  WRITE study aim at identifying the effectivene...   \n",
       "2386       April 14, 2011  This study has the objective to demonstrate th...   \n",
       "\n",
       "                                   Detailed Description  \\\n",
       "0                                          Not Provided   \n",
       "1     The estimated average study duration is 29 wee...   \n",
       "2     CS 3600 intra oral scanner is already licenced...   \n",
       "3                                          Not Provided   \n",
       "4     The aim of this study is to evaluate whether a...   \n",
       "...                                                 ...   \n",
       "2382  Step 1\\nPrimary objective\\nInvestigate the opt...   \n",
       "2383                                       Not Provided   \n",
       "2384  The principal goal of this research project is...   \n",
       "2385  The investigators are going to compare weight-...   \n",
       "2386  In an effort to shorten hospital stay and to f...   \n",
       "\n",
       "                                          Condition  \\\n",
       "0                              Alcohol Use Disorder   \n",
       "1                          Type I Diabetes Mellitus   \n",
       "2                                      Malocclusion   \n",
       "3                                   HIV-1 Infection   \n",
       "4     Perianal Fistula\\nFissure in Ano\\nHemorrhoids   \n",
       "...                                             ...   \n",
       "2382                                        Anthrax   \n",
       "2383                Active, Symptomatic Blepharitis   \n",
       "2384                     HIV Infection\\nHepatitis C   \n",
       "2385                              Chronic Hepatitis   \n",
       "2386                    Poisoning by Scorpion Sting   \n",
       "\n",
       "                                           Intervention  \\\n",
       "0     Behavioral: Integrated Online CBT and MI\\nThe ...   \n",
       "1     Drug: INSULIN GLARGINE (U300)\\nPharmaceutical ...   \n",
       "2     Device: Carestream 3600 intra oral scan\\nCares...   \n",
       "3     Drug: B/F/TAF\\n50/200/25 mg FDC tablet adminis...   \n",
       "4     Drug: Placebo 40 mL Saline 0.9%\\nInjection of ...   \n",
       "...                                                 ...   \n",
       "2382  Biological: GC1109 or Placebo of GC1109\\nStep1...   \n",
       "2383  Drug: ISV-305\\nDexamethasone in DuraSite® 2 tw...   \n",
       "2384                                       Not Provided   \n",
       "2385  Drug: Peginterferon alpha-2a + Ribavirin\\nAdmi...   \n",
       "2386  Biological: Equine F(ab')2 antivenom\\nA single...   \n",
       "\n",
       "                                   Eligibility Criteria  \\\n",
       "0     Inclusion Criteria:\\nIndividuals between 18 an...   \n",
       "1     Inclusion criteria :\\nMale or Female.\\nAge ≥ 1...   \n",
       "2     Inclusion Criteria:\\nPatients undergoing ortho...   \n",
       "3     Key Inclusion Criteria:\\nCurrently receiving a...   \n",
       "4     Inclusion Criteria:\\nPatients with surgical in...   \n",
       "...                                                 ...   \n",
       "2382  Step1\\nInclusion Criteria:\\nHealthy 18 to 55 y...   \n",
       "2383  Inclusion Criteria:\\nAre at least 1 years of a...   \n",
       "2384  Inclusion Criteria:\\nCurrent or prior drug use...   \n",
       "2385  Inclusion Criteria:\\nPatients with chronic hep...   \n",
       "2386  Inclusion Criteria:\\nMale or female 6 months t...   \n",
       "\n",
       "                             Gender  \\\n",
       "0     Sexes Eligible for Study: All   \n",
       "1     Sexes Eligible for Study: All   \n",
       "2     Sexes Eligible for Study: All   \n",
       "3     Sexes Eligible for Study: All   \n",
       "4     Sexes Eligible for Study: All   \n",
       "...                             ...   \n",
       "2382  Sexes Eligible for Study: All   \n",
       "2383  Sexes Eligible for Study: All   \n",
       "2384  Sexes Eligible for Study: All   \n",
       "2385  Sexes Eligible for Study: All   \n",
       "2386  Sexes Eligible for Study: All   \n",
       "\n",
       "                                                Ages  \n",
       "0                     18 Years to 35 Years   (Adult)  \n",
       "1          18 Years and older   (Adult, Older Adult)  \n",
       "2              11 Years to 50 Years   (Child, Adult)  \n",
       "3                 65 Years and older   (Older Adult)  \n",
       "4          18 Years and older   (Adult, Older Adult)  \n",
       "...                                              ...  \n",
       "2382     19 Years to 65 Years   (Adult, Older Adult)  \n",
       "2383  1 Year and older   (Child, Adult, Older Adult)  \n",
       "2384     18 Years to 90 Years   (Adult, Older Adult)  \n",
       "2385     18 Years to 70 Years   (Adult, Older Adult)  \n",
       "2386                  6 Months to 15 Years   (Child)  \n",
       "\n",
       "[2387 rows x 8 columns]"
      ]
     },
     "execution_count": 115,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df = pd.DataFrame(data)\n",
    "df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 116,
   "metadata": {},
   "outputs": [],
   "source": [
    "df.to_csv('17th_Clinical_Trials_Webscrape.csv', index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
